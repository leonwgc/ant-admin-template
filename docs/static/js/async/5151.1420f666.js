"use strict";(self.webpackChunkneat_admin_template=self.webpackChunkneat_admin_template||[]).push([["5151"],{14081(e,r,t){t.r(r)},45618(e,r,t){t.r(r),t.d(r,{default:()=>h});var n=t(74848),s=t(96540),c=t(24922),i=t(39437),a=t(12229),u=t(36813),l=t(58607);t(14081);let{Title:o,Text:d}=a.A,h=()=>{let e=(0,s.useRef)(null),[r,t]=(0,s.useState)(0),[a,h]=(0,s.useState)(0),[m,f]=(0,s.useState)(!1),[x,w]=(0,s.useState)(!1),[p,y]=(0,s.useState)(!0),[v,g]=(0,s.useState)(150),k=(0,s.useRef)(null),j=(0,s.useRef)(null),A=(0,s.useRef)(null),_=(0,s.useRef)([{x:10,y:10}]),R=(0,s.useRef)({x:1,y:0}),S=(0,s.useRef)({x:1,y:0}),T=(0,s.useRef)({x:15,y:15}),M=(0,s.useRef)([]),N=(0,s.useRef)(null),C=(0,s.useRef)(null),z=(0,s.useRef)(0),E=(0,s.useRef)(null),b=(0,s.useRef)(null),q=(0,s.useRef)(!1),L=(0,s.useRef)(150),D=(0,s.useRef)(0);(0,s.useEffect)(()=>{E.current=new(window.AudioContext||window.webkitAudioContext);let e=localStorage.getItem("snake3d-highscore");return e&&h(parseInt(e,10)),()=>{var e;null==(e=E.current)||e.close()}},[]),(0,s.useEffect)(()=>{if(!e.current)return;let r=new c.Z58;r.background=new c.Q1f(657930),k.current=r;let t=new c.ubm(60,e.current.clientWidth/e.current.clientHeight,.1,1e3);t.position.set(10,10,30),t.lookAt(10,10,0),j.current=t;let n=new i.JeP({antialias:!0});n.setSize(e.current.clientWidth,e.current.clientHeight),n.shadowMap.enabled=!0,n.shadowMap.type=2,e.current.appendChild(n.domElement),A.current=n;let s=new c.$p8(0xffffff,.4);r.add(s);let a=new c.ZyN(0xffffff,.6);a.position.set(10,10,10),a.castShadow=!0,a.shadow.mapSize.width=2048,a.shadow.mapSize.height=2048,r.add(a);let u=new c.HiM(65280,.5,50);u.position.set(0,0,10),r.add(u);let l=new c.HiM(35071,.5,50);l.position.set(20,20,10),r.add(l);let o=new c.LoY,d=new c.mrM({color:2236962,transparent:!0,opacity:.3}),h=[];for(let e=0;e<=20;e++)h.push(+e,0,0,+e,20,0),h.push(0,+e,0,20,+e,0);o.setAttribute("position",new c.qtW(h,3));let m=new c.DXC(o,d);r.add(m),b.current=m;let f=new c.TDQ(new c.bdM(20,20)),x=new c.mrM({color:65535,linewidth:2}),w=new c.DXC(f,x);w.position.set(10,10,0),r.add(w);let p=()=>{if(requestAnimationFrame(p),j.current){let e=1e-4*Date.now();j.current.position.x=10+2*Math.sin(e),j.current.position.y=10+2*Math.cos(e),j.current.lookAt(10,10,0)}n.render(r,t)};p();let y=()=>{if(!e.current||!j.current||!A.current)return;let r=e.current.clientWidth,t=e.current.clientHeight;j.current.aspect=r/t,j.current.updateProjectionMatrix(),A.current.setSize(r,t)};return window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y),e.current&&n.domElement&&e.current.removeChild(n.domElement),n.dispose()}},[]);let F=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!k.current)return null;let t=new c.iNn(.9,.9,.9),n=new c.tXL({color:r?65280:43520,emissive:r?65280:43520,emissiveIntensity:r?.5:.2,shininess:100}),s=new c.eaF(t,n);return s.position.set(+e.x+.5,+e.y+.5,.5),s.castShadow=!0,s.receiveShadow=!0,k.current.add(s),s},V=()=>{let e;do e={x:Math.floor(20*Math.random()),y:Math.floor(20*Math.random())};while(_.current.some(r=>r.x===e.x&&r.y===e.y));return e},H=()=>{k.current&&(M.current.forEach(e=>{var r;null==(r=k.current)||r.remove(e),e.geometry.dispose(),e.material.dispose()}),M.current=[],_.current.forEach((e,r)=>{let t=F(e,0===r);t&&M.current.push(t)}))},G=()=>{k.current&&(N.current&&(k.current.remove(N.current),N.current.geometry.dispose(),N.current.material.dispose()),N.current=(e=>{if(!k.current)return null;let r=new c.Gu$(.4,16,16),t=new c.tXL({color:0xff0000,emissive:0xff0000,emissiveIntensity:.8,shininess:100}),n=new c.eaF(r,t);n.position.set(+e.x+.5,+e.y+.5,.5),n.castShadow=!0,k.current.add(n);let s=()=>{var e;n&&(null==(e=k.current)?void 0:e.children.includes(n))&&(n.rotation.y+=.02,n.position.z=.5+.2*Math.sin(.003*Date.now()),requestAnimationFrame(s))};return s(),n})(T.current))},O=e=>{if(q.current){if(e-z.current>=L.current){z.current=e,R.current=S.current;let r=_.current[0],n={x:r.x+R.current.x,y:r.y+R.current.y};if(n.x<0||n.x>=20||n.y<0||n.y>=20||_.current.slice(1).some(e=>e.x===n.x&&e.y===n.y)){w(!0),f(!1),q.current=!1,(()=>{if(!p||!E.current)return;let e=E.current;[400,350,300,250,200].forEach((r,t)=>{let n=e.createOscillator(),s=e.createGain();n.connect(s),s.connect(e.destination),n.type="sawtooth",n.frequency.value=r;let c=e.currentTime+.1*t;s.gain.setValueAtTime(.2,c),s.gain.exponentialRampToValueAtTime(.01,c+.3),n.start(c),n.stop(c+.3)})})(),D.current>a&&(h(D.current),localStorage.setItem("snake3d-highscore",D.current.toString()));return}_.current.unshift(n),n.x===T.current.x&&n.y===T.current.y?(D.current+=10,t(D.current),(()=>{if(!p||!E.current)return;let e=E.current,r=e.createOscillator(),t=e.createGain();r.connect(t),t.connect(e.destination),r.type="sine",r.frequency.setValueAtTime(800,e.currentTime),r.frequency.exponentialRampToValueAtTime(400,e.currentTime+.1),t.gain.setValueAtTime(.3,e.currentTime),t.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),r.start(e.currentTime),r.stop(e.currentTime+.1)})(),T.current=V(),G(),L.current=Math.max(50,L.current-5),g(L.current)):(_.current.pop(),(()=>{if(!p||!E.current)return;let e=E.current,r=e.createOscillator(),t=e.createGain();r.connect(t),t.connect(e.destination),r.type="square",r.frequency.value=200,t.gain.setValueAtTime(.05,e.currentTime),t.gain.exponentialRampToValueAtTime(.01,e.currentTime+.05),r.start(e.currentTime),r.stop(e.currentTime+.05)})()),H()}C.current=requestAnimationFrame(O)}},I=()=>{_.current=[{x:10,y:10}],R.current={x:1,y:0},S.current={x:1,y:0},T.current=V(),D.current=0,t(0),w(!1),f(!0),q.current=!0,L.current=150,g(150),H(),G(),z.current=performance.now(),C.current=requestAnimationFrame(O)};return(0,s.useEffect)(()=>{let e=e=>{if(!m)return;["ArrowLeft","ArrowRight","ArrowDown","ArrowUp"].includes(e.key)&&e.preventDefault();let r=R.current;switch(e.key){case"ArrowLeft":0===r.x&&(S.current={x:-1,y:0});break;case"ArrowRight":0===r.x&&(S.current={x:1,y:0});break;case"ArrowUp":0===r.y&&(S.current={x:0,y:1});break;case"ArrowDown":0===r.y&&(S.current={x:0,y:-1})}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[m]),(0,n.jsxs)("div",{className:"snake-3d",children:[(0,n.jsxs)("div",{className:"snake-3d__header",children:[(0,n.jsx)(o,{level:2,children:"3D Snake"}),(0,n.jsxs)("div",{className:"snake-3d__stats",children:[(0,n.jsxs)("div",{className:"snake-3d__stat",children:[(0,n.jsx)(d,{strong:!0,children:"Score:"}),(0,n.jsx)(d,{className:"snake-3d__stat-value",children:r})]}),(0,n.jsxs)("div",{className:"snake-3d__stat",children:[(0,n.jsx)(d,{strong:!0,children:"High Score:"}),(0,n.jsx)(d,{className:"snake-3d__stat-value snake-3d__stat-value--high",children:a})]}),(0,n.jsxs)("div",{className:"snake-3d__stat",children:[(0,n.jsx)(d,{strong:!0,children:"Length:"}),(0,n.jsx)(d,{className:"snake-3d__stat-value",children:_.current.length})]})]})]}),(0,n.jsxs)("div",{className:"snake-3d__content",children:[(0,n.jsx)("div",{ref:e,className:"snake-3d__canvas"}),(0,n.jsx)("div",{className:"snake-3d__controls",children:(0,n.jsxs)(u.A,{direction:"vertical",size:"large",children:[!m&&!x&&1===_.current.length&&(0,n.jsx)(l.Ay,{type:"primary",size:"large",onClick:I,children:"Start Game"}),m&&(0,n.jsx)(l.Ay,{size:"large",onClick:()=>{f(!1),q.current=!1,C.current&&cancelAnimationFrame(C.current)},children:"Pause"}),!m&&!x&&_.current.length>1&&(0,n.jsx)(l.Ay,{type:"primary",size:"large",onClick:()=>{f(!0),q.current=!0,z.current=performance.now(),C.current=requestAnimationFrame(O)},children:"Resume"}),x&&(0,n.jsx)(l.Ay,{type:"primary",size:"large",onClick:I,children:"Restart"}),(0,n.jsx)(l.Ay,{size:"large",onClick:()=>y(!p),type:p?"default":"dashed",children:p?"\uD83D\uDD0A Sound On":"\uD83D\uDD07 Sound Off"}),(0,n.jsxs)("div",{className:"snake-3d__instructions",children:[(0,n.jsx)(o,{level:5,children:"Controls:"}),(0,n.jsx)(d,{children:"↑ : Move up"}),(0,n.jsx)(d,{children:"↓ : Move down"}),(0,n.jsx)(d,{children:"← : Move left"}),(0,n.jsx)(d,{children:"→ : Move right"})]})]})})]}),x&&(0,n.jsxs)("div",{className:"snake-3d__game-over",children:[(0,n.jsx)(o,{level:3,children:"Game Over!"}),(0,n.jsxs)(d,{children:["Final Score: ",r]}),(0,n.jsxs)(d,{children:["Length: ",_.current.length]}),r===a&&r>0&&(0,n.jsx)(d,{className:"snake-3d__new-record",children:"\uD83C\uDF89 New High Score! \uD83C\uDF89"})]})]})}}}]);