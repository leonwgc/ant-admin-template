"use strict";(self.webpackChunkneat_admin_template=self.webpackChunkneat_admin_template||[]).push([["6660"],{14756(e,t,n){n.r(t)},76440(e,t,n){n.d(t,{A:()=>c});var o=n(31635),r=n(74353),l=n.n(r),i=n(96540),s=n(38258),a=n(65523),d=function(e){if(!e)return 0;var t=l()(e).valueOf()-Date.now();return t<0?0:t};let c=function(e){void 0===e&&(e={});var t=e||{},n=t.leftTime,r=t.targetDate,l=t.interval,c=void 0===l?1e3:l,u=t.onEnd,f=(0,i.useMemo)(function(){return(0,a.Et)(n)&&n>0?Date.now()+n:void 0},[n]),h="leftTime"in e?f:r,m=(0,o.zs)((0,i.useState)(function(){return d(h)}),2),p=m[0],g=m[1],v=(0,s.A)(u);(0,i.useEffect)(function(){if(!h)return void g(0);g(d(h));var e=setInterval(function(){var t,n=d(h);g(n),0===n&&(clearInterval(e),null==(t=v.current)||t.call(v))},c);return function(){return clearInterval(e)}},[h,c]);var b=(0,i.useMemo)(function(){return{days:Math.floor(p/864e5),hours:Math.floor(p/36e5)%24,minutes:Math.floor(p/6e4)%60,seconds:Math.floor(p/1e3)%60,milliseconds:Math.floor(p)%1e3}},[p]);return[p,b]}},59452(e,t,n){n.d(t,{A:()=>l});var o=n(31635),r=n(96540);let l=function(){var e=(0,o.zs)((0,r.useState)({}),2)[1];return(0,r.useCallback)(function(){return e({})},[])}},56338(e,t,n){n.d(t,{A:()=>g,H:()=>m});var o=n(96540),r=n(57356),l=n(66588);let i=e=>"object"==typeof e&&null!=e&&1===e.nodeType,s=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,a=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n,o=getComputedStyle(e,null);return s(o.overflowY,t)||s(o.overflowX,t)||!!(n=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e))&&(n.clientHeight<e.scrollHeight||n.clientWidth<e.scrollWidth)}return!1},d=(e,t,n,o,r,l,i,s)=>l<e&&i>t||l>e&&i<t?0:l<=e&&s<=n||i>=t&&s>=n?l-e-o:i>t&&s<n||l<e&&s>n?i-t+r:0,c=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t},u=(e,t)=>{var n,o,r,l;let s;if("undefined"==typeof document)return[];let{scrollMode:u,block:f,inline:h,boundary:m,skipOverflowHiddenElements:p}=t,g="function"==typeof m?m:e=>e!==m;if(!i(e))throw TypeError("Invalid target");let v=document.scrollingElement||document.documentElement,b=[],w=e;for(;i(w)&&g(w);){if((w=c(w))===v){b.push(w);break}null!=w&&w===document.body&&a(w)&&!a(document.documentElement)||null!=w&&a(w,p)&&b.push(w)}let j=null!=(o=null==(n=window.visualViewport)?void 0:n.width)?o:innerWidth,y=null!=(l=null==(r=window.visualViewport)?void 0:r.height)?l:innerHeight,{scrollX:x,scrollY:F}=window,{height:C,width:A,top:I,right:M,bottom:_,left:E}=e.getBoundingClientRect(),{top:N,right:k,bottom:R,left:S}={top:parseFloat((s=window.getComputedStyle(e)).scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0},T="start"===f||"nearest"===f?I-N:"end"===f?_+R:I+C/2-N+R,O="center"===h?E+A/2-S+k:"end"===h?M+k:E-S,W=[];for(let e=0;e<b.length;e++){let t=b[e],{height:n,width:o,top:r,right:l,bottom:i,left:s}=t.getBoundingClientRect();if("if-needed"===u&&I>=0&&E>=0&&_<=y&&M<=j&&(t===v&&!a(t)||I>=r&&_<=i&&E>=s&&M<=l))break;let c=getComputedStyle(t),m=parseInt(c.borderLeftWidth,10),p=parseInt(c.borderTopWidth,10),g=parseInt(c.borderRightWidth,10),w=parseInt(c.borderBottomWidth,10),N=0,k=0,R="offsetWidth"in t?t.offsetWidth-t.clientWidth-m-g:0,S="offsetHeight"in t?t.offsetHeight-t.clientHeight-p-w:0,D="offsetWidth"in t?0===t.offsetWidth?0:o/t.offsetWidth:0,H="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(v===t)N="start"===f?T:"end"===f?T-y:"nearest"===f?d(F,F+y,y,p,w,F+T,F+T+C,C):T-y/2,k="start"===h?O:"center"===h?O-j/2:"end"===h?O-j:d(x,x+j,j,m,g,x+O,x+O+A,A),N=Math.max(0,N+F),k=Math.max(0,k+x);else{N="start"===f?T-r-p:"end"===f?T-i+w+S:"nearest"===f?d(r,i,n,p,w+S,T,T+C,C):T-(r+n/2)+S/2,k="start"===h?O-s-m:"center"===h?O-(s+o/2)+R/2:"end"===h?O-l+g+R:d(s,l,o,m,g+R,O,O+A,A);let{scrollLeft:e,scrollTop:a}=t;N=0===H?0:Math.max(0,Math.min(a+N/H,t.scrollHeight-n/H+S)),k=0===D?0:Math.max(0,Math.min(e+k/D,t.scrollWidth-o/D+R)),T+=a-N,O+=e-k}W.push({el:t,top:N,left:k})}return W};var f=n(16984),h=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};function m(e){return(0,f.$r)(e).join("_")}function p(e,t){let n=t.getFieldInstance(e),o=(0,l.rb)(n);if(o)return o;let r=(0,f.kV)((0,f.$r)(e),t.__INTERNAL__.name);if(r)return document.getElementById(r)}function g(e){let[t]=(0,r.mN)(),n=o.useRef({}),l=o.useMemo(()=>null!=e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{let o=m(e);t?n.current[o]=t:delete n.current[o]}},scrollToField:(e,t={})=>{let{focus:n}=t,o=h(t,["focus"]),r=p(e,l);r&&(!function(e,t){let n;if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;let o={top:parseFloat((n=window.getComputedStyle(e)).scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0};if("object"==typeof t&&"function"==typeof t.behavior)return t.behavior(u(e,t));let r="boolean"==typeof t||null==t?void 0:t.behavior;for(let{el:n,top:l,left:i}of u(e,!1===t?{block:"end",inline:"nearest"}:t===Object(t)&&0!==Object.keys(t).length?t:{block:"start",inline:"nearest"})){let e=l-o.top+o.bottom,t=i-o.left+o.right;n.scroll({top:e,left:t,behavior:r})}}(r,Object.assign({scrollMode:"if-needed",block:"nearest"},o)),n&&l.focusField(e))},focusField:e=>{var t,n;let o=l.getFieldInstance(e);"function"==typeof(null==o?void 0:o.focus)?o.focus():null==(n=null==(t=p(e,l))?void 0:t.focus)||n.call(t)},getFieldInstance:e=>{let t=m(e);return n.current[t]}}),[e,t]);return[l]}},16984(e,t,n){n.d(t,{$r:()=>r,BS:()=>i,kV:()=>l});let o=["parentNode"];function r(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function l(e,t){if(!e.length)return;let n=e.join("_");return t?`${t}_${n}`:o.includes(n)?`form_item_${n}`:n}function i(e,t,n,o,r,l){let i=o;return void 0!==l?i=l:n.validating?i="validating":e.length?i="error":t.length?i="warning":(n.touched||r&&n.validated)&&(i="success"),i}},58881(e,t,n){n.r(t),n.d(t,{default:()=>p});var o=n(74848),r=n(96540),l=n(19341),i=n(17125),s=n(16629),a=n(36813),d=n(77121),c=n(90697),u=n(32104),f=n(76440),h=n(7259);n(14756);let m=e=>new Promise((t,n)=>{setTimeout(()=>{e.phone&&11===e.phone.length?t({success:!0}):n(Error("Please enter a valid phone number"))},1e3)}),p=()=>{let[e]=l.A.useForm(),[t,n]=r.useState(0),[p,{setTrue:g,setFalse:v}]=(0,u.A)(!1),[,b]=(0,f.A)({targetDate:t,onEnd:()=>{v()}}),{loading:w,run:j}=(0,h.A)(m,{manual:!0,onSuccess:()=>{i.Ay.success("Verification code sent successfully!"),g(),n(Date.now()+6e4)},onError:e=>{i.Ay.error(e.message)}}),y=async()=>{try{await e.validateFields(["phone"]);let t=e.getFieldValue("phone");j({phone:t})}catch(e){console.error("Validation failed:",e)}},{seconds:x}=b;return(0,o.jsxs)("div",{className:"verification-code-countdown",children:[(0,o.jsx)(s.A,{title:"Verification Code Countdown Example",className:"verification-code-countdown__card",children:(0,o.jsxs)(a.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"Feature Description"}),(0,o.jsx)("p",{children:"This example demonstrates:"}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:["Using ",(0,o.jsx)("code",{children:"useCountDown"})," for countdown timer"]}),(0,o.jsxs)("li",{children:["Using ",(0,o.jsx)("code",{children:"useRequest"})," for async API calls"]}),(0,o.jsxs)("li",{children:["Using ",(0,o.jsx)("code",{children:"useBoolean"})," for state management"]}),(0,o.jsx)("li",{children:"Button disabled during countdown"}),(0,o.jsx)("li",{children:"Automatic countdown after successful code sending"})]})]}),(0,o.jsxs)(l.A,{form:e,layout:"vertical",initialValues:{phone:""},children:[(0,o.jsx)(l.A.Item,{label:"Phone Number",name:"phone",validateFirst:!0,validateDebounce:1e3,rules:[{required:!0,message:"Please enter phone number"},{len:11,message:"Phone number must be 11 digits"},{pattern:/^\d{11}$/,message:"Please enter a valid phone number"}],children:(0,o.jsx)(d.A,{placeholder:"Enter 11-digit phone number",maxLength:11,size:"large",disabled:p})}),(0,o.jsx)(l.A.Item,{children:(0,o.jsx)(c.Ay,{type:"primary",size:"large",onClick:y,disabled:p,loading:w,block:!0,children:p?`Resend in ${x}s`:"Send Verification Code"})})]}),(0,o.jsxs)("div",{className:"verification-code-countdown__status",children:[(0,o.jsx)("h4",{children:"Status:"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Counting:"})," ",p?"Yes":"No"]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Remaining Time:"})," ",x,"s"]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Loading:"})," ",w?"Yes":"No"]})]})]})}),(0,o.jsx)(s.A,{title:"Code Example",className:"verification-code-countdown__code",children:(0,o.jsx)("pre",{children:`import { Form } from 'antd';
import { useCountDown, useRequest, useBoolean } from 'ahooks';

const Component = () => {
  const [form] = Form.useForm();
  const [isCounting, { setTrue, setFalse }] = useBoolean(false);

  const [countdown, formattedRes] = useCountDown({
    targetDate: 0,
    onEnd: () => setFalse(),
  });

  const { loading, run } = useRequest(sendCodeAPI, {
    manual: true,
    onSuccess: () => {
      setTrue();
      setTargetDate(Date.now() + 60000);
    },
  });

  const handleSendCode = async () => {
    await form.validateFields(['phone']);
    const phone = form.getFieldValue('phone');
    run({ phone });
  };

  return (
    <Form form={form} layout="vertical">
      <Form.Item
        label="Phone Number"
        name="phone"
        rules={[
          { required: true, message: 'Please enter phone number' },
          { len: 11, message: 'Must be 11 digits' },
          { pattern: /^\\d{11}$/, message: 'Invalid phone number' }
        ]}
      >
        <Input disabled={isCounting} />
      </Form.Item>
      <Form.Item>
        <Button
          onClick={handleSendCode}
          disabled={isCounting}
          loading={loading}
        >
          {isCounting ? \`Resend in \${formattedRes.seconds}s\` : 'Send Code'}
        </Button>
      </Form.Item>
    </Form>
  );
};`})})]})}}}]);