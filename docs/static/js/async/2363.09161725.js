"use strict";(self.webpackChunkneat_admin_template=self.webpackChunkneat_admin_template||[]).push([["2363"],{118(e,t,l){l.r(t),l.d(t,{useFormField:()=>a,useFormFields:()=>s,validators:()=>u});var n=l(74848),r=l(96540);let u={required:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field is required";return t=>t&&t.trim()?null:e},email:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid email format";return t=>t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?e:null},minLength:(e,t)=>l=>l&&l.length<e?t||`Minimum ${e} characters`:null,maxLength:(e,t)=>l=>l&&l.length>e?t||`Maximum ${e} characters`:null,pattern:(e,t)=>l=>l&&!e.test(l)?t:null,min:(e,t)=>l=>{let n="string"==typeof l?parseFloat(l):l;return!isNaN(n)&&n<e?t||`Minimum value is ${e}`:null},max:(e,t)=>l=>{let n="string"==typeof l?parseFloat(l):l;return!isNaN(n)&&n>e?t||`Maximum value is ${e}`:null},url:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid URL format";return t=>{try{return t&&new URL(t),null}catch{return e}}},number:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Must be a number";return t=>t&&isNaN(Number(t))?e:null},integer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Must be an integer";return t=>t&&!Number.isInteger(Number(t))?e:null},matches:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Values do not match";return l=>l!==e()?t:null},oneOf:(e,t)=>l=>e.includes(l)?null:t||`Must be one of: ${e.join(", ")}`,validate:(e,t)=>async l=>await Promise.resolve(e(l))?null:t,phone:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid phone number";return t=>t&&!/^[\d\s\-+()]{7,}$/.test(t)?e:null}};function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initialValue:t="",rules:l=[],validateOnChange:u=!0,validateOnBlur:a=!0,validateDebounce:s=0,transform:i,compareWith:c,onValueChange:o,onValidationChange:m,disabled:f=!1}=e,[b,d]=(0,r.useState)(t),[h,v]=(0,r.useState)(!1),[g,C]=(0,r.useState)(!1),[k,p]=(0,r.useState)(!1),[y,M]=(0,r.useState)(null),[F,N]=(0,r.useState)(!1),[w,j]=(0,r.useState)(f),E=(0,r.useRef)(t),O=(0,r.useRef)(),S=(0,r.useRef)(0),$=(0,r.useRef)(t),R=(0,r.useMemo)(()=>c?!c(b,E.current):b!==E.current,[b,c]),x=null!==y,I=!x&&!F,T=(0,r.useCallback)(async e=>{if(0===l.length)return null;let t=++S.current;N(!0);try{for(let n of l){let l=await Promise.resolve(n(e));if(t!==S.current)return null;if(l)return N(!1),l}return N(!1),null}catch{return N(!1),"Validation error occurred"}},[l]),V=(0,r.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O.current&&clearTimeout(O.current);let l=async()=>{let t=await T(e);M(t),m&&m(null===t,t)};t||0===s?await l():O.current=setTimeout(l,s)},[T,s,m]),B=(0,r.useCallback)(e=>{if(w)return;let t=i?i(e):e;d(t),$.current=t,o&&o(t),u&&V(t)},[w,u,V,o,i]),L=(0,r.useCallback)(()=>{v(!0),p(!1),a&&V($.current,!0)},[a,V]),_=(0,r.useCallback)(()=>{C(!0),p(!0)},[]),P=(0,r.useCallback)(async()=>{let e=await T(b);return M(e),v(!0),m&&m(null===e,e),null===e},[b,T,m]),q=(0,r.useCallback)(()=>{d(E.current),$.current=E.current,v(!1),C(!1),p(!1),M(null),N(!1),O.current&&clearTimeout(O.current)},[]),U=(0,r.useCallback)(e=>{E.current=e,d(e),$.current=e,v(!1),M(null)},[]),D=(0,r.useCallback)(e=>{let t=i?i(e):e;d(t),$.current=t,o&&o(t)},[o,i]),z=(0,r.useCallback)(()=>({value:b,onChange:B,onBlur:L,onFocus:_,disabled:w}),[b,B,L,_,w]),A=(0,r.useCallback)(()=>({value:b,onChange:e=>B(e.target.value),onBlur:L,onFocus:_,disabled:w}),[b,B,L,_,w]),G=(0,r.useCallback)(()=>({value:b,onChange:e=>B(e.target.value),onBlur:L,onFocus:_,status:h&&x?"error":void 0,disabled:w}),[b,B,L,_,h,x,w]),H=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"form-field-error";return h&&x&&y&&!k?(0,n.jsx)("div",{className:e,children:y}):null},[h,x,y,k]);return(0,r.useEffect)(()=>()=>{O.current&&clearTimeout(O.current)},[]),{value:b,touched:h,dirty:R,pristine:!R,valid:I,invalid:x,error:y,validating:F,visited:g,focused:k,disabled:w,onChange:B,onBlur:L,onFocus:_,setValue:D,reset:q,validate:P,setError:M,setTouched:v,setDisabled:j,setInitialValue:U,getInputProps:z,getHTMLInputProps:A,getAntdInputProps:G,renderError:H}}function s(e){let t=Object.keys(e),l=Object.fromEntries(t.map(t=>{let l=a(e[t]);return[t,l]})),n=(0,r.useCallback)(async()=>(await Promise.all(t.map(e=>l[e].validate()))).every(e=>e),[l,t]),u=(0,r.useCallback)(()=>{t.forEach(e=>l[e].reset())},[l,t]),s=(0,r.useCallback)(()=>Object.fromEntries(t.map(e=>[e,l[e].value])),[l,t]),i=(0,r.useCallback)(e=>{Object.entries(e).forEach(e=>{let[t,n]=e;t in l&&l[t].setValue(n)})},[l]),c=(0,r.useCallback)(e=>{Object.entries(e).forEach(e=>{let[t,n]=e;t in l&&l[t].setInitialValue(n)})},[l]),o=(0,r.useMemo)(()=>t.some(e=>l[e].dirty),[l,t]),m=(0,r.useMemo)(()=>t.every(e=>l[e].valid),[l,t]),f=(0,r.useCallback)(()=>Object.fromEntries(t.map(e=>[e,l[e].error])),[l,t]),b=(0,r.useCallback)(e=>{t.forEach(t=>l[t].setDisabled(e))},[l,t]),d=(0,r.useMemo)(()=>t.every(e=>l[e].disabled),[l,t]),h=(0,r.useMemo)(()=>({validateAll:n,resetAll:u,getValues:s,setValues:i,setInitialValues:c,isDirty:o,isValid:m,getErrors:f,setDisabled:b,isDisabled:d}),[n,u,s,i,c,o,m,f,b,d]);return{fields:l,form:h}}}}]);