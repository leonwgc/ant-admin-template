"use strict";(self.webpackChunkneat_admin_template=self.webpackChunkneat_admin_template||[]).push([["23"],{15398(e,t,r){r.d(t,{A:()=>f});var n,i=r(71500),o=r(46942),l=r.n(o),s=r(72422),a=r(2445);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["className","alignment","size"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let f=function(e){var t=e.className,r=e.alignment,o=e.size,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,d),u=(0,s.Ay)()(function(e){var t,r,i=e.css,o=e.prefixCls,l=e.componentsToken.Divider;return i(n||(t=["\n            &.","-divider {\n                &.","-divider-horizontal {\n                    border-block-start-color: ",";\n                }\n\n                &.","-divider-vertical {\n                    border-inline-start-color: ",";\n                }\n\n                &.","-divider-large {\n                    &.","-divider-horizontal {\n                        border-block-start-width: 2px;\n                    }\n\n                    &.","-divider-vertical {\n                        border-inline-start-width: 2px;\n                    }\n                }\n            }\n        "],r||(r=t.slice(0)),n=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))),o,o,l["divider-color-border"],o,l["divider-color-border"],o,o,o)}),f=u.prefixCls,b=u.styles;return(0,a.Y)(i.A,h(h({},c),{},{className:l()("".concat(f,"-divider-").concat(void 0===o?"medium":o),b,t),plain:!0,type:void 0===r?"horizontal":r}))}},91585(e,t,r){r.r(t)},71500(e,t,r){r.d(t,{A:()=>m});var n=r(96540),i=r(46942),o=r.n(i),l=r(62279),s=r(829),a=r(53716),c=r(25905),d=r(37358),u=r(10224);let h=(0,d.OF)("Divider",e=>{let t=(0,u.mergeToken)(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[(e=>{let{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:n,lineWidth:i,textPaddingInline:o,orientationMargin:l,verticalMarginInline:s}=e;return{[t]:Object.assign(Object.assign({},(0,c.dF)(e)),{borderBlockStart:`${(0,a.unit)(i)} solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,a.unit)(i)} solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,a.unit)(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,a.unit)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,a.unit)(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${l} * 100%)`},"&::after":{width:`calc(100% - ${l} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${l} * 100%)`},"&::after":{width:`calc(${l} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${(0,a.unit)(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:n,borderStyle:"dotted",borderWidth:`${(0,a.unit)(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:r}}})}})(t),(e=>{let{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}})(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}});var f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let b={small:"sm",middle:"md"},m=e=>{let{getPrefixCls:t,direction:r,className:i,style:a}=(0,l.TP)("divider"),{prefixCls:c,type:d="horizontal",orientation:u="center",orientationMargin:m,className:y,rootClassName:p,children:g,dashed:x,variant:j="solid",plain:v,style:w,size:$}=e,S=f(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),k=t("divider",c),[O,A,z]=h(k),P=b[(0,s.A)($)],I=!!g,C=n.useMemo(()=>"left"===u?"rtl"===r?"end":"start":"right"===u?"rtl"===r?"start":"end":u,[r,u]),B="start"===C&&null!=m,N="end"===C&&null!=m,E=o()(k,i,A,z,`${k}-${d}`,{[`${k}-with-text`]:I,[`${k}-with-text-${C}`]:I,[`${k}-dashed`]:!!x,[`${k}-${j}`]:"solid"!==j,[`${k}-plain`]:!!v,[`${k}-rtl`]:"rtl"===r,[`${k}-no-default-orientation-margin-start`]:B,[`${k}-no-default-orientation-margin-end`]:N,[`${k}-${P}`]:!!P},y,p),T=n.useMemo(()=>"number"==typeof m?m:/^\d+$/.test(m)?Number(m):m,[m]);return O(n.createElement("div",Object.assign({className:E,style:Object.assign(Object.assign({},a),w)},S,{role:"separator"}),g&&"vertical"!==d&&n.createElement("span",{className:`${k}-inner-text`,style:{marginInlineStart:B?T:void 0,marginInlineEnd:N?T:void 0}},g)))}},26247(e,t,r){r.r(t),r.d(t,{default:()=>i});var n=r(96540);let i=function(e){let t=(0,n.useRef)(!1);return(0,n.useCallback)(async function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];if(!t.current){t.current=!0;try{return await e(...n)}catch(e){throw e}finally{t.current=!1}}},[e])}},18666(e,t,r){r.r(t),r.d(t,{default:()=>y});var n=r(74848),i=r(96540),o=r(12229),l=r(40244),s=r(36813),a=r(16629),c=r(58607),d=r(63255),u=r(15398),h=r(26247);r(91585);let{Title:f,Paragraph:b,Text:m}=o.A,y=()=>{let[e,t]=(0,i.useState)(0),[r,o]=(0,i.useState)(0),[y,p]=(0,i.useState)([]),[g,x]=(0,i.useState)(!1),j=e=>{let t=new Date().toLocaleTimeString();p(r=>[`[${t}] ${e}`,...r].slice(0,10))},v=async e=>{j(`${e}: 开始执行`),await new Promise(e=>setTimeout(e,3e3)),j(`${e}: 执行完成`)},w=(0,h.default)(async()=>{x(!0),await v("锁定函数"),t(e=>e+1),x(!1)}),$=async()=>{x(!0),await v("普通函数"),o(e=>e+1),x(!1)};return(0,n.jsxs)("div",{className:"use-lock-async-func",children:[(0,n.jsx)(f,{level:2,children:"useLockAsyncFunc Hook 示例"}),(0,n.jsxs)(b,{children:[(0,n.jsx)(m,{strong:!0,children:"useLockAsyncFunc"})," 是一个防止异步函数并发执行的 React Hook。 当函数正在执行时，后续调用会被忽略，直到当前执行完成。"]}),(0,n.jsx)(l.A,{message:"使用场景",description:"防止用户快速点击按钮导致的重复提交、多次 API 调用等问题。",type:"info",showIcon:!0,style:{marginBottom:24}}),(0,n.jsxs)(s.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,n.jsx)(a.A,{title:"示例 1: 使用 useLockAsyncFunc（防并发）",bordered:!1,children:(0,n.jsxs)(s.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{children:"点击次数: "}),(0,n.jsx)(m,{strong:!0,style:{fontSize:20,color:"#1890ff"},children:e})]}),(0,n.jsx)(c.Ay,{type:"primary",onClick:w,size:"large",children:"快速点击我（3 秒后完成）"}),(0,n.jsx)(d.A,{spinning:g}),(0,n.jsx)(l.A,{message:"提示",description:"尝试快速多次点击按钮，只有第一次点击会被执行。",type:"success",showIcon:!0})]})}),(0,n.jsx)(a.A,{title:"示例 2: 普通异步函数（允许并发）",bordered:!1,children:(0,n.jsxs)(s.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{children:"点击次数: "}),(0,n.jsx)(m,{strong:!0,style:{fontSize:20,color:"#52c41a"},children:r})]}),(0,n.jsx)(c.Ay,{onClick:$,size:"large",children:"快速点击我（3 秒后完成）"}),(0,n.jsx)(d.A,{spinning:g}),(0,n.jsx)(l.A,{message:"注意",description:"每次点击都会创建新的异步任务，可能导致重复执行。",type:"warning",showIcon:!0})]})}),(0,n.jsx)(a.A,{title:"执行日志",bordered:!1,extra:(0,n.jsx)(c.Ay,{onClick:()=>{p([])},size:"small",children:"清空日志"}),children:(0,n.jsx)("div",{className:"use-lock-async-func__logs",children:0===y.length?(0,n.jsx)(m,{type:"secondary",children:"暂无日志"}):y.map((e,t)=>(0,n.jsx)("div",{className:"use-lock-async-func__log-item",children:e},t))})}),(0,n.jsx)(u.A,{}),(0,n.jsx)(a.A,{title:"代码示例",bordered:!1,children:(0,n.jsx)("pre",{className:"use-lock-async-func__code",children:`import useLockAsyncFunc from '~/hooks/useLockAsyncFunc';

const MyComponent = () => {
  const [counter, setCounter] = useState(0);

  // 使用 useLockAsyncFunc 包装异步函数
  const handleSubmit = useLockAsyncFunc(async () => {
    // 模拟 API 调用
    await fetch('/api/submit', {
      method: 'POST',
      body: JSON.stringify({ data: 'example' }),
    });

    setCounter(prev => prev + 1);
  });

  return (
    <Button onClick={handleSubmit}>
      提交（防止重复点击）
    </Button>
  );
};`})}),(0,n.jsx)(a.A,{title:"API 文档",bordered:!1,children:(0,n.jsxs)(s.A,{direction:"vertical",size:"small",style:{width:"100%"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{strong:!0,children:"函数签名:"}),(0,n.jsx)("pre",{className:"use-lock-async-func__code-inline",children:"useLockAsyncFunc<P extends any[], V>(fn: (...args: P) => Promise<V>)"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{strong:!0,children:"参数:"}),(0,n.jsx)("ul",{children:(0,n.jsxs)("li",{children:[(0,n.jsx)(m,{code:!0,children:"fn"})," - 需要加锁的异步函数"]})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{strong:!0,children:"返回值:"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"返回一个包装后的函数，该函数在执行时会检查锁状态"}),(0,n.jsx)("li",{children:"如果锁已被占用（函数正在执行），则忽略本次调用"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{strong:!0,children:"特性:"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"✅ 防止并发执行"}),(0,n.jsx)("li",{children:"✅ 自动管理锁状态"}),(0,n.jsx)("li",{children:"✅ TypeScript 类型安全"}),(0,n.jsx)("li",{children:"✅ 支持任意参数和返回值类型"})]})]})]})})]})]})}}}]);