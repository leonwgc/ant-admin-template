"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["4140"],{99594(e,n,s){s.r(n)},76440(e,n,s){s.d(n,{A:()=>r});var t=s(31635),o=s(74353),i=s.n(o),c=s(96540),a=s(38258),d=s(65523),l=function(e){if(!e)return 0;var n=i()(e).valueOf()-Date.now();return n<0?0:n};let r=function(e){void 0===e&&(e={});var n=e||{},s=n.leftTime,o=n.targetDate,i=n.interval,r=void 0===i?1e3:i,u=n.onEnd,h=(0,c.useMemo)(function(){return(0,d.Et)(s)&&s>0?Date.now()+s:void 0},[s]),m="leftTime"in e?h:o,x=(0,t.zs)((0,c.useState)(function(){return l(m)}),2),j=x[0],f=x[1],p=(0,a.A)(u);(0,c.useEffect)(function(){if(!m)return void f(0);f(l(m));var e=setInterval(function(){var n,s=l(m);f(s),0===s&&(clearInterval(e),null==(n=p.current)||n.call(p))},r);return function(){return clearInterval(e)}},[m,r]);var w=(0,c.useMemo)(function(){return{days:Math.floor(j/864e5),hours:Math.floor(j/36e5)%24,minutes:Math.floor(j/6e4)%60,seconds:Math.floor(j/1e3)%60,milliseconds:Math.floor(j)%1e3}},[j]);return[j,w]}},57486(e,n,s){s.d(n,{A:()=>_});var t=s(96540),o=s(81470),i=s(25371),c=s(40682),a=s(46942),d=s.n(a),l=s(72065),r=s(62279),u=s(42441);let h=e=>{let n,{value:s,formatter:o,precision:i,decimalSeparator:c,groupSeparator:a="",prefixCls:d}=e;if("function"==typeof o)n=o(s);else{let e=String(s),o=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(o&&"-"!==e){let e=o[1],s=o[2]||"0",l=o[4]||"";s=s.replace(/\B(?=(\d{3})+(?!\d))/g,a),"number"==typeof i&&(l=l.padEnd(i,"0").slice(0,i>0?i:0)),l&&(l=`${c}${l}`),n=[t.createElement("span",{key:"int",className:`${d}-content-value-int`},e,s),l&&t.createElement("span",{key:"decimal",className:`${d}-content-value-decimal`},l)]}else n=e}return t.createElement("span",{className:`${d}-content-value`},n)};var m=s(25905),x=s(37358),j=s(10224);let f=(0,x.OF)("Statistic",e=>(e=>{let{componentCls:n,marginXXS:s,padding:t,colorTextDescription:o,titleFontSize:i,colorTextHeading:c,contentFontSize:a,fontFamily:d}=e;return{[n]:Object.assign(Object.assign({},(0,m.dF)(e)),{[`${n}-title`]:{marginBottom:s,color:o,fontSize:i},[`${n}-skeleton`]:{paddingTop:t},[`${n}-content`]:{color:c,fontSize:a,fontFamily:d,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:s},[`${n}-content-suffix`]:{marginInlineStart:s}}})}})((0,j.mergeToken)(e,{})),e=>{let{fontSizeHeading3:n,fontSize:s}=e;return{titleFontSize:s,contentFontSize:n}});var p=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>n.indexOf(t)&&(s[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)0>n.indexOf(t[o])&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};let w=t.forwardRef((e,n)=>{let{prefixCls:s,className:o,rootClassName:i,style:c,valueStyle:a,value:m=0,title:x,valueRender:j,prefix:w,suffix:v,loading:y=!1,formatter:k,precision:g,decimalSeparator:_=".",groupSeparator:b=",",onMouseEnter:N,onMouseLeave:S}=e,C=p(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:A,direction:E,className:R,style:O}=(0,r.TP)("statistic"),T=A("statistic",s),[$,M,D]=f(T),L=t.createElement(h,{decimalSeparator:_,groupSeparator:b,prefixCls:T,formatter:k,precision:g,value:m}),F=d()(T,{[`${T}-rtl`]:"rtl"===E},R,o,i,M,D),B=t.useRef(null);t.useImperativeHandle(n,()=>({nativeElement:B.current}));let P=(0,l.A)(C,{aria:!0,data:!0});return $(t.createElement("div",Object.assign({},P,{ref:B,className:F,style:Object.assign(Object.assign({},O),c),onMouseEnter:N,onMouseLeave:S}),x&&t.createElement("div",{className:`${T}-title`},x),t.createElement(u.A,{paragraph:!1,loading:y,className:`${T}-skeleton`,active:!0},t.createElement("div",{style:a,className:`${T}-content`},w&&t.createElement("span",{className:`${T}-content-prefix`},w),j?j(L):L,v&&t.createElement("span",{className:`${T}-content-suffix`},v)))))}),v=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];var y=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>n.indexOf(t)&&(s[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)0>n.indexOf(t[o])&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};let k=e=>{let{value:n,format:s="HH:mm:ss",onChange:a,onFinish:d,type:l}=e,r=y(e,["value","format","onChange","onFinish","type"]),u="countdown"===l,[h,m]=t.useState(null),x=(0,o._q)(()=>{let e=Date.now(),s=new Date(n).getTime();return m({}),null==a||a(u?s-e:e-s),!u||!(s<e)||(null==d||d(),!1)});return t.useEffect(()=>{let e,n=()=>{e=(0,i.A)(()=>{x()&&n()})};return n(),()=>i.A.cancel(e)},[n,u]),t.useEffect(()=>{m({})},[]),t.createElement(w,Object.assign({},r,{value:n,valueRender:e=>(0,c.Ob)(e,{title:void 0}),formatter:(e,n)=>h?function(e,n,s){let t,o,i,c,a,d,{format:l=""}=n,r=new Date(e).getTime(),u=Date.now();return t=s?Math.max(r-u,0):Math.max(u-r,0),o=/\[[^\]]*]/g,i=(l.match(o)||[]).map(e=>e.slice(1,-1)),c=l.replace(o,"[]"),a=v.reduce((e,[n,s])=>{if(e.includes(n)){let o=Math.floor(t/s);return t-=o*s,e.replace(RegExp(`${n}+`,"g"),e=>{let n=e.length;return o.toString().padStart(n,"0")})}return e},c),d=0,a.replace(o,()=>{let e=i[d];return d+=1,e})}(e,Object.assign(Object.assign({},n),{format:s}),u):"-"}))},g=t.memo(e=>t.createElement(k,Object.assign({},e,{type:"countdown"})));w.Timer=k,w.Countdown=g;let _=w},87625(e,n,s){s.r(n),s.d(n,{default:()=>c});var t=s(76440),o=s(16415),i=s(96540);let c=e=>{let{seconds:n=60,onEnd:s}=e,[c,a]=(0,i.useState)(0),[d,l]=(0,i.useState)(0),[r]=(0,t.A)({leftTime:1e3*c,interval:1e3,onEnd:()=>{a(0),l(e=>e+1),null==s||s()}}),u=(0,i.useMemo)(()=>Math.round(r/1e3),[r]),h=(0,i.useMemo)(()=>u>0,[u]),m=(0,i.useCallback)(()=>{a(n)},[n]),x=(0,i.useCallback)(()=>{a(0),l(0)},[]),j=(0,i.useCallback)(e=>{e>0&&a(e)},[a]);return(0,o.A)(x),{sec:u,start:m,reset:x,isRunning:h,round:d,setLeft:j}}},74951(e,n,s){s.r(n),s.d(n,{default:()=>r});var t=s(74848);s(96540);var o=s(16151),i=s(16629),c=s(57486),a=s(36813),d=s(58607),l=s(87625);s(99594);let r=()=>{let{message:e}=o.A.useApp(),n=(0,l.default)({seconds:6,onEnd:()=>{e.success("Countdown 1 finished!")}}),s=(0,l.default)({seconds:10,onEnd:()=>{e.info("Countdown 2 finished!")}}),r=(0,l.default)({seconds:30,onEnd:()=>{e.warning("Countdown 3 finished!")}}),u=(0,l.default)({seconds:5,onEnd:()=>{e.success(`Round ${u.round+1} completed!`)}}),h=(0,l.default)({seconds:60,onEnd:()=>{e.success("Dynamic countdown finished!")}});return(0,t.jsxs)("div",{className:"use-ahooks-countdown",children:[(0,t.jsx)("h2",{className:"use-ahooks-countdown__title",children:"useCountdown Hook Examples"}),(0,t.jsxs)("div",{className:"use-ahooks-countdown__section",children:[(0,t.jsx)("h3",{children:"Basic Usage - 6 Seconds Countdown"}),(0,t.jsx)("p",{children:"A standard countdown timer with 6 seconds duration"}),(0,t.jsx)(i.A,{className:"use-ahooks-countdown__card",children:(0,t.jsxs)("div",{className:"use-ahooks-countdown__demo",children:[(0,t.jsx)(c.A,{title:"Time Remaining",value:n.sec,suffix:"seconds",valueStyle:{color:n.isRunning?"#3f8600":"#cf1322"}}),(0,t.jsxs)(a.A,{className:"use-ahooks-countdown__actions",children:[(0,t.jsx)(d.Ay,{type:"primary",onClick:n.start,disabled:n.isRunning,children:"Start"}),(0,t.jsx)(d.Ay,{onClick:n.reset,disabled:!n.isRunning,children:"Reset"})]}),(0,t.jsxs)("div",{className:"use-ahooks-countdown__status",children:["Status: ",n.isRunning?"\uD83D\uDFE2 Running":"\uD83D\uDD34 Stopped"]})]})}),(0,t.jsx)("div",{className:"use-ahooks-countdown__code",children:`const countdown = useAHooksCountdown({
  seconds: 60,
  onFinish: () => {
    message.success('Countdown finished!');
  },
});

<Button onClick={countdown.start}>Start</Button>
<Button onClick={countdown.reset}>Reset</Button>
<div>Time: {countdown.sec}s</div>`})]}),(0,t.jsxs)("div",{className:"use-ahooks-countdown__section",children:[(0,t.jsx)("h3",{children:"Short Countdown - 10 Seconds"}),(0,t.jsx)("p",{children:"A quick countdown timer for short intervals"}),(0,t.jsx)(i.A,{className:"use-ahooks-countdown__card",children:(0,t.jsxs)("div",{className:"use-ahooks-countdown__demo",children:[(0,t.jsx)(c.A,{title:"Quick Timer",value:s.sec,suffix:"seconds",valueStyle:{color:s.isRunning?"#1890ff":"#999999"}}),(0,t.jsxs)(a.A,{className:"use-ahooks-countdown__actions",children:[(0,t.jsx)(d.Ay,{type:"primary",onClick:s.start,disabled:s.isRunning,children:"Start Quick Timer"}),(0,t.jsx)(d.Ay,{onClick:s.reset,disabled:!s.isRunning,children:"Stop"})]})]})}),(0,t.jsx)("div",{className:"use-ahooks-countdown__code",children:`const countdown = useAHooksCountdown({
  seconds: 10,
  onFinish: () => {
    message.info('Quick timer finished!');
  },
});`})]}),(0,t.jsxs)("div",{className:"use-ahooks-countdown__section",children:[(0,t.jsx)("h3",{children:"Custom Duration - 30 Seconds"}),(0,t.jsx)("p",{children:"Countdown with custom duration and styling"}),(0,t.jsx)(i.A,{className:"use-ahooks-countdown__card",children:(0,t.jsxs)("div",{className:"use-ahooks-countdown__demo",children:[(0,t.jsxs)("div",{className:"use-ahooks-countdown__display",children:[(0,t.jsx)("div",{className:"use-ahooks-countdown__time",children:r.sec}),(0,t.jsx)("div",{className:"use-ahooks-countdown__label",children:"Seconds Left"})]}),(0,t.jsxs)(a.A,{className:"use-ahooks-countdown__actions",children:[(0,t.jsx)(d.Ay,{type:"primary",onClick:r.start,disabled:r.isRunning,children:"Start 30s Timer"}),(0,t.jsx)(d.Ay,{onClick:r.reset,children:"Reset"})]})]})}),(0,t.jsx)("div",{className:"use-ahooks-countdown__code",children:`const countdown = useAHooksCountdown({
  seconds: 30,
  onFinish: () => {
    message.warning('Timer finished!');
  },
});`})]}),(0,t.jsxs)("div",{className:"use-ahooks-countdown__section",children:[(0,t.jsx)("h3",{children:"Round Tracking - 5 Seconds"}),(0,t.jsx)("p",{children:"Track how many times the countdown has completed"}),(0,t.jsx)(i.A,{className:"use-ahooks-countdown__card",children:(0,t.jsxs)("div",{className:"use-ahooks-countdown__demo",children:[(0,t.jsxs)("div",{className:"use-ahooks-countdown__stats",children:[(0,t.jsx)(c.A,{title:"Time Left",value:u.sec,suffix:"s"}),(0,t.jsx)(c.A,{title:"Rounds Completed",value:u.round,valueStyle:{color:"#faad14"}})]}),(0,t.jsxs)(a.A,{className:"use-ahooks-countdown__actions",children:[(0,t.jsx)(d.Ay,{type:"primary",onClick:u.start,disabled:u.isRunning,children:"Start Round"}),(0,t.jsx)(d.Ay,{onClick:u.reset,children:"Stop"})]})]})}),(0,t.jsx)("div",{className:"use-ahooks-countdown__code",children:`const countdown = useAHooksCountdown({
  seconds: 5,
  onFinish: () => {
    message.success(\`Round \${countdown.round + 1} completed!\`);
  },
});

// Access round counter
console.log('Rounds completed:', countdown.round);`})]}),(0,t.jsxs)("div",{className:"use-ahooks-countdown__section",children:[(0,t.jsx)("h3",{children:"Dynamic Countdown - setLeft Method"}),(0,t.jsx)("p",{children:"Dynamically set remaining seconds during countdown"}),(0,t.jsx)(i.A,{className:"use-ahooks-countdown__card",children:(0,t.jsxs)("div",{className:"use-ahooks-countdown__demo",children:[(0,t.jsx)("div",{className:"use-ahooks-countdown__stats",children:(0,t.jsx)(c.A,{title:"Time Left",value:h.sec,suffix:"s",valueStyle:{color:h.isRunning?"#52c41a":"#d9d9d9"}})}),(0,t.jsxs)(a.A,{className:"use-ahooks-countdown__actions",wrap:!0,children:[(0,t.jsx)(d.Ay,{type:"primary",onClick:h.start,disabled:h.isRunning,children:"Start (60s)"}),(0,t.jsx)(d.Ay,{onClick:h.reset,children:"Reset"}),(0,t.jsx)(d.Ay,{type:"default",onClick:()=>h.setLeft(30),disabled:!h.isRunning,children:"Set to 30s"}),(0,t.jsx)(d.Ay,{type:"default",onClick:()=>h.setLeft(15),disabled:!h.isRunning,children:"Set to 15s"}),(0,t.jsx)(d.Ay,{type:"default",onClick:()=>h.setLeft(5),disabled:!h.isRunning,children:"Set to 5s"})]}),(0,t.jsx)("div",{className:"use-ahooks-countdown__info",children:'\uD83D\uDCA1 Click "Set to Xs" buttons while countdown is running to dynamically change remaining time'})]})}),(0,t.jsx)("div",{className:"use-ahooks-countdown__code",children:`const countdown = useCountdown({
  seconds: 60,
  onFinish: () => {
    message.success('Countdown finished!');
  },
});

// Dynamically set remaining seconds
<Button onClick={() => countdown.setLeft(30)}>
  Set to 30s
</Button>
<Button onClick={() => countdown.setLeft(15)}>
  Set to 15s
</Button>

// Use case: Extend or reduce countdown based on user actions
const handleUserAction = () => {
  if (userPremium) {
    countdown.setLeft(120); // Extend to 2 minutes for premium users
  } else {
    countdown.setLeft(30);  // Standard 30 seconds
  }
};`})]}),(0,t.jsxs)("div",{className:"use-ahooks-countdown__section",children:[(0,t.jsx)("h3",{children:"Hook API"}),(0,t.jsxs)("table",{className:"use-ahooks-countdown__table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Property"}),(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Description"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"seconds"}),(0,t.jsx)("td",{children:"number"}),(0,t.jsx)("td",{children:"Duration of countdown in seconds"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"onFinish"}),(0,t.jsx)("td",{children:"() => void"}),(0,t.jsx)("td",{children:"Callback function when countdown finishes"})]})]})]}),(0,t.jsx)("h4",{children:"Return Values"}),(0,t.jsxs)("table",{className:"use-ahooks-countdown__table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Property"}),(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Description"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"sec"}),(0,t.jsx)("td",{children:"number"}),(0,t.jsx)("td",{children:"Current seconds remaining"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"start"}),(0,t.jsx)("td",{children:"() => void"}),(0,t.jsx)("td",{children:"Function to start the countdown"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"reset"}),(0,t.jsx)("td",{children:"() => void"}),(0,t.jsx)("td",{children:"Function to reset/stop the countdown"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"isRunning"}),(0,t.jsx)("td",{children:"boolean"}),(0,t.jsx)("td",{children:"Whether countdown is currently running"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"round"}),(0,t.jsx)("td",{children:"number"}),(0,t.jsx)("td",{children:"Number of times countdown has completed"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"setLeft"}),(0,t.jsx)("td",{children:"(value: number) => void"}),(0,t.jsx)("td",{children:"Dynamically set remaining seconds (only accepts positive values)"})]})]})]})]}),(0,t.jsxs)("div",{className:"use-ahooks-countdown__section",children:[(0,t.jsx)("h3",{children:"Usage Tips"}),(0,t.jsxs)("ul",{className:"use-ahooks-countdown__list",children:[(0,t.jsx)("li",{children:"Use for verification code resend buttons with countdown"}),(0,t.jsx)("li",{children:"Implement timeout mechanisms for user actions"}),(0,t.jsx)("li",{children:"Create timer-based games or challenges"}),(0,t.jsx)("li",{children:"Track multiple rounds for repeated operations"}),(0,t.jsx)("li",{children:"The countdown automatically stops when reaching 0"}),(0,t.jsx)("li",{children:"Use `isRunning` to disable buttons during countdown"}),(0,t.jsx)("li",{children:"Use `setLeft()` to dynamically adjust countdown time based on user actions or conditions"}),(0,t.jsx)("li",{children:"`setLeft()` only accepts positive values; passing 0 or negative values will be ignored"})]})]})]})}}}]);