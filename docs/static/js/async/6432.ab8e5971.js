"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["6432"],{510(s,e,n){n.r(e)},37635(s,e,n){n.r(e),n.d(e,{default:()=>p});var i=n(74848),l=n(96540),c=n(40244),r=n(16629),d=n(36813),a=n(58607),t=n(28032),x=n(16772);n(510);let h=(0,l.lazy)(()=>new Promise(s=>{setTimeout(()=>{s({default:()=>(0,i.jsxs)("div",{className:"use-suspense__slow-content",children:[(0,i.jsx)(c.A,{message:"组件加载完成",description:"这是一个通过 lazy() 和 Suspense 延迟加载的组件。在加载过程中会显示 Suspense 的 fallback 内容。",type:"success",showIcon:!0}),(0,i.jsxs)("div",{className:"use-suspense__data",children:[(0,i.jsx)("h4",{children:"加载的数据："}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"用户数据已加载"}),(0,i.jsx)("li",{children:"文章列表已加载"}),(0,i.jsx)("li",{children:"评论数据已加载"})]})]})]})})},2e3)})),j=(0,l.lazy)(()=>new Promise(s=>{setTimeout(()=>{s({default:()=>(0,i.jsx)("div",{className:"use-suspense__fast-content",children:(0,i.jsx)(c.A,{message:"快速组件",description:"这个组件只需要 500ms 就能加载完成",type:"info",showIcon:!0})})})},500)})),p=()=>{let[s,e]=(0,l.useState)(!1),[n,p]=(0,l.useState)(!1),[u,o]=(0,l.useState)(!1);return(0,i.jsx)("div",{className:"use-suspense",children:(0,i.jsx)(r.A,{title:"React Suspense 示例",className:"use-suspense__card",children:(0,i.jsxs)(d.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,i.jsxs)("div",{className:"use-suspense__description",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Suspense"})," 允许你在组件加载时显示一个备用内容（fallback）。"]}),(0,i.jsxs)("p",{children:["它常与 ",(0,i.jsx)("code",{children:"lazy()"})," 配合使用来实现代码分割和懒加载， 也可以用于数据获取等异步操作。"]})]}),(0,i.jsx)(r.A,{title:"示例 1：单个懒加载组件",type:"inner",children:(0,i.jsxs)(d.A,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Ay,{type:"primary",onClick:()=>e(!0),children:"加载慢速组件（2秒）"}),(0,i.jsx)(a.Ay,{onClick:()=>e(!1),style:{marginLeft:8},children:"卸载组件"})]}),s&&(0,i.jsx)(l.Suspense,{fallback:(0,i.jsxs)("div",{className:"use-suspense__loading",children:[(0,i.jsx)(t.A,{size:"large"}),(0,i.jsx)("p",{children:"正在加载组件..."})]}),children:(0,i.jsx)(h,{})})]})}),(0,i.jsx)(r.A,{title:"示例 2：快速加载组件",type:"inner",children:(0,i.jsxs)(d.A,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Ay,{type:"primary",onClick:()=>p(!0),children:"加载快速组件（500ms）"}),(0,i.jsx)(a.Ay,{onClick:()=>p(!1),style:{marginLeft:8},children:"卸载组件"})]}),n&&(0,i.jsx)(l.Suspense,{fallback:(0,i.jsxs)("div",{className:"use-suspense__loading",children:[(0,i.jsx)(t.A,{}),(0,i.jsx)("p",{children:"加载中..."})]}),children:(0,i.jsx)(j,{})})]})}),(0,i.jsx)(r.A,{title:"示例 3：多个组件同时加载",type:"inner",children:(0,i.jsxs)(d.A,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Ay,{type:"primary",onClick:()=>o(!0),children:"同时加载两个组件"}),(0,i.jsx)(a.Ay,{onClick:()=>o(!1),style:{marginLeft:8},children:"卸载组件"})]}),u&&(0,i.jsxs)("div",{className:"use-suspense__both",children:[(0,i.jsx)(l.Suspense,{fallback:(0,i.jsxs)("div",{className:"use-suspense__loading",children:[(0,i.jsx)(t.A,{}),(0,i.jsx)("p",{children:"加载快速组件..."})]}),children:(0,i.jsx)(j,{})}),(0,i.jsx)(l.Suspense,{fallback:(0,i.jsxs)("div",{className:"use-suspense__loading",children:[(0,i.jsx)(t.A,{size:"large"}),(0,i.jsx)("p",{children:"加载慢速组件..."})]}),children:(0,i.jsx)(h,{})})]})]})}),(0,i.jsx)(r.A,{title:"示例 4：嵌套 Suspense",type:"inner",children:(0,i.jsxs)(d.A,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsx)(c.A,{message:"嵌套边界",description:"外层 Suspense 可以捕获内层所有组件的加载状态，也可以为不同组件设置独立的加载状态",type:"info",showIcon:!0}),(0,i.jsx)(x.A,{items:[{key:"1",label:"独立边界",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"每个组件都有自己的 Suspense 边界："}),(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(t.A,{}),children:(0,i.jsx)(j,{})})]})},{key:"2",label:"共享边界",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"多个组件共享一个 Suspense 边界："}),(0,i.jsx)(l.Suspense,{fallback:(0,i.jsxs)("div",{className:"use-suspense__loading",children:[(0,i.jsx)(t.A,{size:"large"}),(0,i.jsx)("p",{children:"加载所有内容..."})]}),children:(0,i.jsx)(j,{})})]})}]})]})}),(0,i.jsxs)(r.A,{title:"使用说明",type:"inner",className:"use-suspense__usage",children:[(0,i.jsx)("div",{className:"use-suspense__code",children:(0,i.jsx)("pre",{children:`// 1. 使用 lazy 定义懒加载组件
const LazyComponent = lazy(() => import('./Component'));

// 2. 使用 Suspense 包裹组件
<Suspense fallback={<Loading />}>
  <LazyComponent />
</Suspense>

// 3. 嵌套使用
<Suspense fallback={<PageLoading />}>
  <Header />
  <Suspense fallback={<ContentLoading />}>
    <Content />
  </Suspense>
  <Footer />
</Suspense>`})}),(0,i.jsxs)("div",{className:"use-suspense__tips",children:[(0,i.jsx)("h4",{children:"核心要点："}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"lazy()"}),": 定义一个懒加载的组件"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Suspense"}),": 定义组件加载时的备用 UI"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"fallback"}),": 必需属性，指定加载时显示的内容"]}),(0,i.jsx)("li",{children:"可以嵌套使用，为不同层级提供不同的加载状态"}),(0,i.jsx)("li",{children:"配合路由使用可以实现页面级别的代码分割"}),(0,i.jsx)("li",{children:"提升首屏加载速度，改善用户体验"})]})]}),(0,i.jsx)(c.A,{message:"注意事项",description:"Suspense 目前主要用于组件懒加载。React 未来会支持数据获取等更多场景。",type:"warning",showIcon:!0,style:{marginTop:16}})]}),(0,i.jsx)("div",{style:{textAlign:"center",marginTop:16},children:(0,i.jsx)(a.Ay,{onClick:()=>{e(!1),p(!1),o(!1)},children:"重置所有示例"})})]})})})}}}]);