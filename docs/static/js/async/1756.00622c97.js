"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["1756"],{15398(e,t,n){n.d(t,{A:()=>g});var i,l=n(71500),r=n(46942),o=n.n(r),s=n(72422),d=n(2445);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=["className","alignment","size"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var i,l,r;i=e,l=t,r=n[t],(l=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=c(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}(l))in i?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let g=function(e){var t=e.className,n=e.alignment,r=e.size,c=function(e,t){if(null==e)return{};var n,i,l=function(e,t){if(null==e)return{};var n,i,l={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,a),h=(0,s.Ay)()(function(e){var t,n,l=e.css,r=e.prefixCls,o=e.componentsToken.Divider;return l(i||(t=["\n            &.","-divider {\n                &.","-divider-horizontal {\n                    border-block-start-color: ",";\n                }\n\n                &.","-divider-vertical {\n                    border-inline-start-color: ",";\n                }\n\n                &.","-divider-large {\n                    &.","-divider-horizontal {\n                        border-block-start-width: 2px;\n                    }\n\n                    &.","-divider-vertical {\n                        border-inline-start-width: 2px;\n                    }\n                }\n            }\n        "],n||(n=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),r,r,o["divider-color-border"],r,o["divider-color-border"],r,r,r)}),g=h.prefixCls,x=h.styles;return(0,d.Y)(l.A,m(m({},c),{},{className:o()("".concat(g,"-divider-").concat(void 0===r?"medium":r),x,t),plain:!0,type:void 0===n?"horizontal":n}))}},98938(e,t,n){n.r(t)},71500(e,t,n){n.d(t,{A:()=>p});var i=n(96540),l=n(46942),r=n.n(l),o=n(62279),s=n(829),d=n(53716),c=n(25905),a=n(37358),h=n(10224);let m=(0,a.OF)("Divider",e=>{let t=(0,h.mergeToken)(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[(e=>{let{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:i,lineWidth:l,textPaddingInline:r,orientationMargin:o,verticalMarginInline:s}=e;return{[t]:Object.assign(Object.assign({},(0,c.dF)(e)),{borderBlockStart:`${(0,d.unit)(l)} solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,d.unit)(l)} solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,d.unit)(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,d.unit)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,d.unit)(l)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${o} * 100%)`},"&::after":{width:`calc(100% - ${o} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${o} * 100%)`},"&::after":{width:`calc(${o} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:r},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${(0,d.unit)(l)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:i,borderStyle:"dotted",borderWidth:`${(0,d.unit)(l)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}})(t),(e=>{let{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}})(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}});var g=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)0>t.indexOf(i[l])&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]]);return n};let x={small:"sm",middle:"md"},p=e=>{let{getPrefixCls:t,direction:n,className:l,style:d}=(0,o.TP)("divider"),{prefixCls:c,type:a="horizontal",orientation:h="center",orientationMargin:p,className:j,rootClassName:f,children:b,dashed:u,variant:v="solid",plain:_,style:y,size:H}=e,w=g(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),N=t("divider",c),[$,S,O]=m(N),A=x[(0,s.A)(H)],z=!!b,T=i.useMemo(()=>"left"===h?"rtl"===n?"end":"start":"right"===h?"rtl"===n?"start":"end":h,[n,h]),k="start"===T&&null!=p,I="end"===T&&null!=p,P=r()(N,l,S,O,`${N}-${a}`,{[`${N}-with-text`]:z,[`${N}-with-text-${T}`]:z,[`${N}-dashed`]:!!u,[`${N}-${v}`]:"solid"!==v,[`${N}-plain`]:!!_,[`${N}-rtl`]:"rtl"===n,[`${N}-no-default-orientation-margin-start`]:k,[`${N}-no-default-orientation-margin-end`]:I,[`${N}-${A}`]:!!A},j,f),B=i.useMemo(()=>"number"==typeof p?p:/^\d+$/.test(p)?Number(p):p,[p]);return $(i.createElement("div",Object.assign({className:P,style:Object.assign(Object.assign({},d),y)},w,{role:"separator"}),b&&"vertical"!==a&&i.createElement("span",{className:`${N}-inner-text`,style:{marginInlineStart:k?B:void 0,marginInlineEnd:I?B:void 0}},b)))}},93447(e,t,n){n.r(t),n.d(t,{default:()=>h});var i=n(74848),l=n(96540),r=n(16629),o=n(99373),s=n(36813),d=n(11275),c=n(2733),a=n(15398);n(98938);let h=()=>{let e=(0,l.useRef)(null),[t,n]=(0,l.useState)(20),[h,m]=(0,l.useState)(5),[g,x]=(0,l.useState)(200),[p,j]=(0,l.useState)(!0),[f,b]=(0,l.useState)({clientHeight:0,offsetHeight:0,scrollHeight:0});return(0,l.useEffect)(()=>{e.current&&b({clientHeight:e.current.clientHeight,offsetHeight:e.current.offsetHeight,scrollHeight:e.current.scrollHeight})},[t,h,g,p]),(0,i.jsxs)("div",{className:"element-height-demo",children:[(0,i.jsx)("h2",{className:"element-height-demo__title",children:"clientHeight vs offsetHeight vs scrollHeight"}),(0,i.jsxs)(r.A,{title:"概念说明",children:[(0,i.jsxs)("div",{className:"element-height-demo__concept",children:[(0,i.jsxs)("div",{className:"element-height-demo__concept-item",children:[(0,i.jsx)(o.A,{color:"blue",children:"clientHeight"}),(0,i.jsxs)("p",{children:["元素内部高度 = ",(0,i.jsx)("strong",{children:"content + padding"}),(0,i.jsx)("br",{}),"不包括：border、scrollbar、margin"]})]}),(0,i.jsxs)("div",{className:"element-height-demo__concept-item",children:[(0,i.jsx)(o.A,{color:"green",children:"offsetHeight"}),(0,i.jsxs)("p",{children:["元素可见高度 = ",(0,i.jsx)("strong",{children:"content + padding + border + scrollbar"}),(0,i.jsx)("br",{}),"不包括：margin"]})]}),(0,i.jsxs)("div",{className:"element-height-demo__concept-item",children:[(0,i.jsx)(o.A,{color:"purple",children:"scrollHeight"}),(0,i.jsxs)("p",{children:["元素内容完整高度 = ",(0,i.jsx)("strong",{children:"content（包括溢出部分）+ padding"}),(0,i.jsx)("br",{}),"不包括：border、margin"]})]})]}),(0,i.jsx)("div",{className:"element-height-demo__code",children:`// 获取元素的三种高度
const element = document.getElementById('box');

// 1. clientHeight: 内部可见高度（不含border和滚动条）
const clientHeight = element.clientHeight;
// = content height + padding-top + padding-bottom

// 2. offsetHeight: 元素整体高度（含border和滚动条）
const offsetHeight = element.offsetHeight;
// = content height + padding + border + scrollbar

// 3. scrollHeight: 内容完整高度（含溢出部分）
const scrollHeight = element.scrollHeight;
// = actual content height + padding (包括不可见的溢出内容)

// 常见用法：判断是否滚动到底部
if (element.scrollTop + element.clientHeight >= element.scrollHeight) {
  console.log('已滚动到底部');
}`})]}),(0,i.jsx)(r.A,{title:"交互式演示",style:{marginTop:24},children:(0,i.jsxs)(s.A,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,i.jsxs)(s.A,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsxs)(s.A,{children:[(0,i.jsx)("span",{style:{width:120,display:"inline-block"},children:"Padding:"}),(0,i.jsx)(d.A,{min:0,max:50,value:t,onChange:e=>n(e),style:{width:200}}),(0,i.jsx)(c.A,{min:0,max:50,value:t,onChange:e=>n(e)}),(0,i.jsx)("span",{children:"px"})]}),(0,i.jsxs)(s.A,{children:[(0,i.jsx)("span",{style:{width:120,display:"inline-block"},children:"Border:"}),(0,i.jsx)(d.A,{min:0,max:20,value:h,onChange:e=>m(e),style:{width:200}}),(0,i.jsx)(c.A,{min:0,max:20,value:h,onChange:e=>m(e)}),(0,i.jsx)("span",{children:"px"})]}),(0,i.jsxs)(s.A,{children:[(0,i.jsx)("span",{style:{width:120,display:"inline-block"},children:"Content Height:"}),(0,i.jsx)(d.A,{min:100,max:500,value:g,onChange:e=>x(e),style:{width:200}}),(0,i.jsx)(c.A,{min:100,max:500,value:g,onChange:e=>x(e)}),(0,i.jsx)("span",{children:"px"})]})]}),(0,i.jsx)(a.A,{}),(0,i.jsxs)("div",{className:"element-height-demo__comparison",children:[(0,i.jsxs)("div",{className:"element-height-demo__visual",children:[(0,i.jsx)("h4",{children:"可视化展示"}),(0,i.jsx)("div",{ref:e,className:"element-height-demo__box",style:{padding:`${t}px`,border:`${h}px solid #1890ff`,height:"300px",overflowY:p?"auto":"hidden"},children:(0,i.jsxs)("div",{className:"element-height-demo__content",style:{height:`${g}px`},children:[(0,i.jsx)("p",{children:"这是内容区域"}),(0,i.jsxs)("p",{children:["Content Height: ",g,"px"]}),(0,i.jsx)("p",{children:"当内容高度超过容器高度时，会出现滚动条"}),(0,i.jsx)("p",{children:"scrollHeight 会包含所有溢出的内容"}),(0,i.jsx)("p",{children:"而 clientHeight 只包含可见区域"}),(0,i.jsx)("p",{children:"offsetHeight 包含 border 和 scrollbar"}),g>250&&(0,i.jsx)("p",{children:"\uD83D\uDC47 向下滚动查看更多内容"})]})}),(0,i.jsxs)("div",{className:"element-height-demo__legend",children:[(0,i.jsxs)("div",{className:"element-height-demo__legend-item",children:[(0,i.jsx)("div",{className:"element-height-demo__legend-color element-height-demo__legend-color--content"}),(0,i.jsx)("span",{children:"Content"})]}),(0,i.jsxs)("div",{className:"element-height-demo__legend-item",children:[(0,i.jsx)("div",{className:"element-height-demo__legend-color element-height-demo__legend-color--padding"}),(0,i.jsx)("span",{children:"Padding"})]}),(0,i.jsxs)("div",{className:"element-height-demo__legend-item",children:[(0,i.jsx)("div",{className:"element-height-demo__legend-color element-height-demo__legend-color--border"}),(0,i.jsx)("span",{children:"Border"})]})]})]}),(0,i.jsxs)("div",{className:"element-height-demo__measurements",children:[(0,i.jsx)("h4",{children:"实时测量值"}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-item element-height-demo__measurement-item--client",children:[(0,i.jsx)("div",{className:"element-height-demo__measurement-label",children:(0,i.jsx)(o.A,{color:"blue",children:"clientHeight"})}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-value",children:[f.clientHeight,"px"]}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-formula",children:["= 300px (容器高度) - ",2*h,"px (border) ≈ ",f.clientHeight,"px"]})]}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-item element-height-demo__measurement-item--offset",children:[(0,i.jsx)("div",{className:"element-height-demo__measurement-label",children:(0,i.jsx)(o.A,{color:"green",children:"offsetHeight"})}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-value",children:[f.offsetHeight,"px"]}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-formula",children:["= 300px (容器高度) ≈ ",f.offsetHeight,"px"]})]}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-item element-height-demo__measurement-item--scroll",children:[(0,i.jsx)("div",{className:"element-height-demo__measurement-label",children:(0,i.jsx)(o.A,{color:"purple",children:"scrollHeight"})}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-value",children:[f.scrollHeight,"px"]}),(0,i.jsxs)("div",{className:"element-height-demo__measurement-formula",children:["= ",g,"px (content) + ",2*t,"px (padding) = ",g+2*t,"px"]})]}),(0,i.jsx)(a.A,{}),(0,i.jsxs)("div",{className:"element-height-demo__info",children:[(0,i.jsx)("h5",{children:"\uD83D\uDCCA 关系分析："}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"offsetHeight"})," = clientHeight + 上下border",(0,i.jsx)("br",{}),"(",f.offsetHeight," = ",f.clientHeight," + ",2*h,")"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"scrollHeight"})," ",f.scrollHeight>f.clientHeight?">":"="," ","clientHeight",(0,i.jsx)("br",{}),f.scrollHeight>f.clientHeight?"(内容溢出，可以滚动)":"(内容未溢出，无需滚动)"]}),(0,i.jsxs)("li",{children:["滚动条宽度: ≈ ",f.offsetHeight-f.clientHeight-2*h,"px"]})]})]})]})]})]})}),(0,i.jsxs)(r.A,{title:"实战案例",style:{marginTop:24},children:[(0,i.jsx)("h3",{children:"1. 判断是否滚动到底部"}),(0,i.jsx)("div",{className:"element-height-demo__code",children:`// 方法1: 使用 scrollHeight 和 clientHeight
element.addEventListener('scroll', () => {
  const isAtBottom = element.scrollTop + element.clientHeight >= element.scrollHeight - 1;
  // 减1是为了容错，避免浮点数误差
  if (isAtBottom) {
    console.log('已滚动到底部，加载更多数据...');
  }
});

// 方法2: 计算滚动百分比
const scrollPercentage = (element.scrollTop / (element.scrollHeight - element.clientHeight)) * 100;
console.log(\`已滚动 \${scrollPercentage.toFixed(1)}%\`);`}),(0,i.jsx)("h3",{style:{marginTop:24},children:"2. 判断元素是否有滚动条"}),(0,i.jsx)("div",{className:"element-height-demo__code",children:`// 判断是否有垂直滚动条
const hasVerticalScrollbar = element.scrollHeight > element.clientHeight;

// 判断是否有横滚动条
const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;

if (hasVerticalScrollbar) {
  console.log('元素有垂直滚动条');
}`}),(0,i.jsx)("h3",{style:{marginTop:24},children:"3. 获取元素完整高度（含margin）"}),(0,i.jsx)("div",{className:"element-height-demo__code",children:`// offsetHeight 不包括 margin，需要手动计算
const getElementFullHeight = (element) => {
  const styles = window.getComputedStyle(element);
  const marginTop = parseFloat(styles.marginTop);
  const marginBottom = parseFloat(styles.marginBottom);

  return element.offsetHeight + marginTop + marginBottom;
};

// 使用 getBoundingClientRect (推荐)
const rect = element.getBoundingClientRect();
const fullHeight = rect.height; // 含小数，更精确`}),(0,i.jsx)("h3",{style:{marginTop:24},children:"4. 平滑滚动到底部"}),(0,i.jsx)("div",{className:"element-height-demo__code",children:`// 方法1: 使用 scrollTo
element.scrollTo({
  top: element.scrollHeight,
  behavior: 'smooth'
});

// 方法2: 设置 scrollTop
element.scrollTop = element.scrollHeight;

// 方法3: 滚动到指定位置（距离顶部的位置）
const scrollToPosition = (position) => {
  element.scrollTo({
    top: position,
    behavior: 'smooth'
  });
};`}),(0,i.jsx)("h3",{style:{marginTop:24},children:"5. 虚拟滚动优化（大数据列表）"}),(0,i.jsx)("div",{className:"element-height-demo__code",children:`// 计算可见区域的起始和结束索引
const getVisibleRange = (element, itemHeight) => {
  const scrollTop = element.scrollTop;
  const clientHeight = element.clientHeight;

  const startIndex = Math.floor(scrollTop / itemHeight);
  const endIndex = Math.ceil((scrollTop + clientHeight) / itemHeight);

  return { startIndex, endIndex };
};

// 监听滚动，只渲染可见区域的元素
element.addEventListener('scroll', () => {
  const { startIndex, endIndex } = getVisibleRange(element, 50);
  renderVisibleItems(startIndex, endIndex);
});`})]}),(0,i.jsx)(r.A,{title:"常见问题 Q&A",style:{marginTop:24},children:(0,i.jsxs)("div",{className:"element-height-demo__qa",children:[(0,i.jsxs)("div",{className:"element-height-demo__qa-item",children:[(0,i.jsx)("h4",{children:"Q1: 为什么 offsetHeight 有时会包含滚动条宽度？"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"A:"})," 当元素设置了 ",(0,i.jsx)("code",{children:"overflow: auto"})," 或 ",(0,i.jsx)("code",{children:"overflow: scroll"})," ","并且内容确实溢出时，浏览器会显示滚动条。offsetHeight 会包含滚动条的宽度，而 clientHeight 不包含。"]})]}),(0,i.jsxs)("div",{className:"element-height-demo__qa-item",children:[(0,i.jsx)("h4",{children:"Q2: scrollHeight 什么时候会大于 clientHeight？"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"A:"})," 当元素内容超出其可见区域时，scrollHeight 会大于 clientHeight。这表示元素有滚动内容。"]})]}),(0,i.jsxs)("div",{className:"element-height-demo__qa-item",children:[(0,i.jsx)("h4",{children:"Q3: 如何获取精确的元素高度（含小数）？"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"A:"})," 使用 ",(0,i.jsx)("code",{children:"element.getBoundingClientRect().height"}),"，它返回的是精确的浮点数值。 而 offsetHeight 返回的是四舍五入后的整数。"]})]}),(0,i.jsxs)("div",{className:"element-height-demo__qa-item",children:[(0,i.jsx)("h4",{children:"Q4: box-sizing 会影响这些属性吗？"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"A:"})," box-sizing 只影响 CSS 盒模型的计算方式，不影响这些 DOM 属性的定义。 无论 box-sizing 是 content-box 还是 border-box，offsetHeight 始终包含 padding 和 border。"]})]})]})})]})}}}]);