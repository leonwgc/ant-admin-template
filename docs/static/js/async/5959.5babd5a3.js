"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["5959"],{89009(e,s,i){i.r(s)},96442(e,s,i){i.r(s),i.d(s,{default:()=>o});var n=i(74848),t=i(96540),l=i(16629),r=i(36813),a=i(26149),c=i(58607),d=i(28032),h=i(99373);i(89009);let o=()=>{let[e,s]=(0,t.useState)(""),[i,o]=(0,t.useState)([]),[u,j]=(0,t.useTransition)(),x=e=>{let s=[];for(let i=0;i<2e6;i++)s.push(`${e} - ${i}`);return s};return(0,n.jsx)("div",{className:"use-transition",children:(0,n.jsx)(l.A,{title:"React useTransition 示例",className:"use-transition__card",children:(0,n.jsxs)(r.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,n.jsxs)("div",{className:"use-transition__description",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"useTransition"})," 可以让你在不阻塞 UI 的情况下更新状态。"]}),(0,n.jsx)("p",{children:"在下面的示例中，输入框会触发生成 20,000 条数据。使用 useTransition 后， 输入框的响应速度不会受到影响。"})]}),(0,n.jsx)(l.A,{title:"使用 useTransition",type:"inner",children:(0,n.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(a.A,{placeholder:"输入文字（使用 useTransition）",value:e,onChange:e=>{let i=e.target.value;s(i),j(()=>{o(x(i))})},style:{width:300}}),(0,n.jsx)(c.Ay,{onClick:()=>{s(""),o([])},style:{marginLeft:8},children:"重置"})]}),u&&(0,n.jsxs)("div",{className:"use-transition__pending",children:[(0,n.jsx)(d.A,{size:"small"}),(0,n.jsx)("span",{style:{marginLeft:8},children:"正在处理数据..."})]}),(0,n.jsxs)("div",{className:"use-transition__info",children:[(0,n.jsxs)(h.A,{color:"blue",children:["输入值: ",e||"无"]}),(0,n.jsxs)(h.A,{color:"green",children:["列表项数量: ",i.length]}),(0,n.jsxs)(h.A,{color:u?"orange":"purple",children:["状态: ",u?"更新中":"已完成"]})]})]})}),(0,n.jsx)(l.A,{title:"不使用 useTransition（对比）",type:"inner",children:(0,n.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,n.jsx)("div",{children:(0,n.jsx)(a.A,{placeholder:"输入文字（不使用 useTransition）",onChange:e=>{let i=e.target.value;s(i),o(x(i))},style:{width:300}})}),(0,n.jsx)("div",{className:"use-transition__warning",children:"⚠️ 注意：快速输入时会感觉到明显的卡顿"})]})}),i.length>0&&(0,n.jsx)(l.A,{title:"生成的列表（前 50 项预览）",type:"inner",children:(0,n.jsxs)("div",{className:"use-transition__list",children:[i.slice(0,50).map((e,s)=>(0,n.jsx)("div",{className:"use-transition__list-item",children:e},s)),i.length>50&&(0,n.jsxs)("div",{className:"use-transition__list-more",children:["...还有 ",i.length-50," 项"]})]})}),(0,n.jsxs)(l.A,{title:"使用说明",type:"inner",className:"use-transition__usage",children:[(0,n.jsx)("div",{className:"use-transition__code",children:(0,n.jsx)("pre",{children:`const [isPending, startTransition] = useTransition();

const handleChange = (e) => {
  const value = e.target.value;
  setInput(value); // 紧急更新：立即更新输入框

  // 非紧急更新：延迟更新列表
  startTransition(() => {
    setList(generateList(value));
  });
};`})}),(0,n.jsxs)("div",{className:"use-transition__tips",children:[(0,n.jsx)("h4",{children:"核心要点："}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"isPending"}),": 指示过渡是否处于活动状态"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"startTransition"}),": 将状态更新标记为非阻塞的过渡"]}),(0,n.jsx)("li",{children:"紧急更新（如输入框）会立即执行"}),(0,n.jsx)("li",{children:"非紧急更新（如列表渲染）会在浏览器空闲时执行"}),(0,n.jsx)("li",{children:"可以保持 UI 的响应性，提升用户体验"})]})]})]})]})})})}}}]);