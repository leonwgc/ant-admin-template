"use strict";(self.webpackChunkneat_admin_template=self.webpackChunkneat_admin_template||[]).push([["52"],{13794(e,t,n){n.d(t,{A:()=>s});var r=n(31635),l=n(96540),o=n(68645),i=n(7259);let a=function(e,t){void 0===t&&(t={});var n,a=t.defaultPageSize,u=void 0===a?10:a,s=t.defaultCurrent,c=(0,r.Tt)(t,["defaultPageSize","defaultCurrent"]),d=(0,i.A)(e,(0,r.Cl)({defaultParams:[{current:void 0===s?1:s,pageSize:u}],refreshDepsAction:function(){C(1)}},c)),f=d.params[0]||{},p=f.current,g=void 0===p?1:p,h=f.pageSize,v=void 0===h?u:h,m=(null==(n=d.data)?void 0:n.total)||0,y=(0,l.useMemo)(function(){return Math.ceil(m/v)},[v,m]),b=function(e,t){var n=e<=0?1:e,l=t<=0?1:t,o=Math.ceil(m/l);n>o&&(n=Math.max(1,o));var i=(0,r.zs)(d.params||[]),a=i[0],u=i.slice(1);d.run.apply(d,(0,r.fX)([(0,r.Cl)((0,r.Cl)({},void 0===a?{}:a),{current:n,pageSize:l})],(0,r.zs)(u),!1))},C=function(e){b(e,v)};return(0,r.Cl)((0,r.Cl)({},d),{pagination:{current:g,pageSize:v,total:m,totalPage:y,onChange:(0,o.A)(b),changeCurrent:(0,o.A)(C),changePageSize:(0,o.A)(function(e){b(g,e)})}})};var u=n(14369);let s=function(e,t){void 0===t&&(t={});var n,i=t.form,s=t.defaultType,c=t.defaultParams,d=t.manual,f=void 0!==d&&d,p=t.refreshDeps,g=t.ready,h=void 0===g||g,v=(0,r.Tt)(t,["form","defaultType","defaultParams","manual","refreshDeps","ready"]),m=a(e,(0,r.Cl)((0,r.Cl)({ready:h,manual:!0},v),{onSuccess:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];M.current=!0,null==(e=v.onSuccess)||e.call.apply(e,(0,r.fX)([v],(0,r.zs)(t),!1))}})),y=m.params,b=void 0===y?[]:y,C=m.run,S=b[2]||{},w=(0,r.zs)((0,l.useState)((null==S?void 0:S.type)||(void 0===s?"simple":s)),2),z=w[0],F=w[1],A=(0,l.useRef)({}),k=(0,l.useRef)([]),M=(0,l.useRef)(!1),P=!!(null==i?void 0:i.getInternalHooks),O=function(){if(!i)return{};if(P)return i.getFieldsValue(null,function(){return!0});var e=i.getFieldsValue(),t={};return Object.keys(e).forEach(function(n){(!i.getFieldInstance||i.getFieldInstance(n))&&(t[n]=e[n])}),t},j=function(){if(!i)return Promise.resolve({});var e=Object.keys(O());return P?i.validateFields(e):new Promise(function(t,n){i.validateFields(e,function(e,r){e?n(e):t(r)})})},E=function(){if(i){if(P)return i.setFieldsValue(A.current);var e={};Object.keys(A.current).forEach(function(t){(!i.getFieldInstance||i.getFieldInstance(t))&&(e[t]=A.current[t])}),i.setFieldsValue(e)}},I=function(e){h&&setTimeout(function(){j().then(function(n){void 0===n&&(n={});var l=e||(0,r.Cl)((0,r.Cl)({pageSize:t.defaultPageSize||10},(null==b?void 0:b[0])||{}),{current:1});i?(A.current=(0,r.Cl)((0,r.Cl)({},A.current),n),C(l,n,{allFormData:A.current,type:z})):C(l)}).catch(function(e){return e})})};(0,l.useEffect)(function(){if(b.length>0){A.current=(null==S?void 0:S.allFormData)||{},E(),C.apply(void 0,(0,r.fX)([],(0,r.zs)(b),!1));return}h&&(A.current=(null==c?void 0:c[1])||{},E(),f||I(null==c?void 0:c[0]))},[]),(0,u.A)(function(){h&&E()},[z]);var W=(0,l.useRef)(!1);return W.current=!1,(0,u.A)(function(){!f&&h&&(W.current=!0,i&&i.resetFields(),A.current=(null==c?void 0:c[1])||{},E(),I(null==c?void 0:c[0]))},[h]),(0,u.A)(function(){W.current||h&&(f||(W.current=!0,m.pagination.changeCurrent(1)))},(0,r.fX)([],(0,r.zs)(void 0===p?[]:p),!1)),(0,r.Cl)((0,r.Cl)({},m),{tableProps:{dataSource:(null==(n=m.data)?void 0:n.list)||k.current,loading:m.loading,onChange:(0,o.A)(function(e,t,n,l){var o=(0,r.zs)(b||[]),i=o[0],a=o.slice(1);C.apply(void 0,(0,r.fX)([(0,r.Cl)((0,r.Cl)({},i),{current:e.current,pageSize:e.pageSize,filters:t,sorter:n,extra:l})],(0,r.zs)(a),!1))}),pagination:{current:m.pagination.current,pageSize:m.pagination.pageSize,total:m.pagination.total}},search:{submit:(0,o.A)(function(e){var n,l,o;null==(n=null==e?void 0:e.preventDefault)||n.call(e),I(M.current?void 0:(0,r.Cl)({pageSize:t.defaultPageSize||(null==(o=null==(l=t.defaultParams)?void 0:l[0])?void 0:o.pageSize)||10,current:1},(null==c?void 0:c[0])||{}))}),type:z,changeType:(0,o.A)(function(){var e=O();A.current=(0,r.Cl)((0,r.Cl)({},A.current),e),F(function(e){return"simple"===e?"advance":"simple"})}),reset:(0,o.A)(function(){var e,n;i&&i.resetFields(),I((0,r.Cl)((0,r.Cl)({},(null==c?void 0:c[0])||{}),{pageSize:t.defaultPageSize||(null==(n=null==(e=t.defaultParams)?void 0:e[0])?void 0:n.pageSize)||10,current:1}))})}})}},59452(e,t,n){n.d(t,{A:()=>o});var r=n(31635),l=n(96540);let o=function(){var e=(0,r.zs)((0,l.useState)({}),2)[1];return(0,l.useCallback)(function(){return e({})},[])}},56338(e,t,n){n.d(t,{A:()=>v,H:()=>g});var r=n(96540),l=n(57356),o=n(66588);let i=e=>"object"==typeof e&&null!=e&&1===e.nodeType,a=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,u=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n,r=getComputedStyle(e,null);return a(r.overflowY,t)||a(r.overflowX,t)||!!(n=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e))&&(n.clientHeight<e.scrollHeight||n.clientWidth<e.scrollWidth)}return!1},s=(e,t,n,r,l,o,i,a)=>o<e&&i>t||o>e&&i<t?0:o<=e&&a<=n||i>=t&&a>=n?o-e-r:i>t&&a<n||o<e&&a>n?i-t+l:0,c=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t},d=(e,t)=>{var n,r,l,o;let a;if("undefined"==typeof document)return[];let{scrollMode:d,block:f,inline:p,boundary:g,skipOverflowHiddenElements:h}=t,v="function"==typeof g?g:e=>e!==g;if(!i(e))throw TypeError("Invalid target");let m=document.scrollingElement||document.documentElement,y=[],b=e;for(;i(b)&&v(b);){if((b=c(b))===m){y.push(b);break}null!=b&&b===document.body&&u(b)&&!u(document.documentElement)||null!=b&&u(b,h)&&y.push(b)}let C=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,S=null!=(o=null==(l=window.visualViewport)?void 0:l.height)?o:innerHeight,{scrollX:w,scrollY:z}=window,{height:F,width:A,top:k,right:M,bottom:P,left:O}=e.getBoundingClientRect(),{top:j,right:E,bottom:I,left:W}={top:parseFloat((a=window.getComputedStyle(e)).scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0},_="start"===f||"nearest"===f?k-j:"end"===f?P+I:k+F/2-j+I,H="center"===p?O+A/2-W+E:"end"===p?M+E:O-W,T=[];for(let e=0;e<y.length;e++){let t=y[e],{height:n,width:r,top:l,right:o,bottom:i,left:a}=t.getBoundingClientRect();if("if-needed"===d&&k>=0&&O>=0&&P<=S&&M<=C&&(t===m&&!u(t)||k>=l&&P<=i&&O>=a&&M<=o))break;let c=getComputedStyle(t),g=parseInt(c.borderLeftWidth,10),h=parseInt(c.borderTopWidth,10),v=parseInt(c.borderRightWidth,10),b=parseInt(c.borderBottomWidth,10),j=0,E=0,I="offsetWidth"in t?t.offsetWidth-t.clientWidth-g-v:0,W="offsetHeight"in t?t.offsetHeight-t.clientHeight-h-b:0,R="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,N="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(m===t)j="start"===f?_:"end"===f?_-S:"nearest"===f?s(z,z+S,S,h,b,z+_,z+_+F,F):_-S/2,E="start"===p?H:"center"===p?H-C/2:"end"===p?H-C:s(w,w+C,C,g,v,w+H,w+H+A,A),j=Math.max(0,j+z),E=Math.max(0,E+w);else{j="start"===f?_-l-h:"end"===f?_-i+b+W:"nearest"===f?s(l,i,n,h,b+W,_,_+F,F):_-(l+n/2)+W/2,E="start"===p?H-a-g:"center"===p?H-(a+r/2)+I/2:"end"===p?H-o+v+I:s(a,o,r,g,v+I,H,H+A,A);let{scrollLeft:e,scrollTop:u}=t;j=0===N?0:Math.max(0,Math.min(u+j/N,t.scrollHeight-n/N+W)),E=0===R?0:Math.max(0,Math.min(e+E/R,t.scrollWidth-r/R+I)),_+=u-j,H+=e-E}T.push({el:t,top:j,left:E})}return T};var f=n(16984),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>t.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]]);return n};function g(e){return(0,f.$r)(e).join("_")}function h(e,t){let n=t.getFieldInstance(e),r=(0,o.rb)(n);if(r)return r;let l=(0,f.kV)((0,f.$r)(e),t.__INTERNAL__.name);if(l)return document.getElementById(l)}function v(e){let[t]=(0,l.mN)(),n=r.useRef({}),o=r.useMemo(()=>null!=e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{let r=g(e);t?n.current[r]=t:delete n.current[r]}},scrollToField:(e,t={})=>{let{focus:n}=t,r=p(t,["focus"]),l=h(e,o);l&&(!function(e,t){let n;if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;let r={top:parseFloat((n=window.getComputedStyle(e)).scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0};if("object"==typeof t&&"function"==typeof t.behavior)return t.behavior(d(e,t));let l="boolean"==typeof t||null==t?void 0:t.behavior;for(let{el:n,top:o,left:i}of d(e,!1===t?{block:"end",inline:"nearest"}:t===Object(t)&&0!==Object.keys(t).length?t:{block:"start",inline:"nearest"})){let e=o-r.top+r.bottom,t=i-r.left+r.right;n.scroll({top:e,left:t,behavior:l})}}(l,Object.assign({scrollMode:"if-needed",block:"nearest"},r)),n&&o.focusField(e))},focusField:e=>{var t,n;let r=o.getFieldInstance(e);"function"==typeof(null==r?void 0:r.focus)?r.focus():null==(n=null==(t=h(e,o))?void 0:t.focus)||n.call(t)},getFieldInstance:e=>{let t=g(e);return n.current[t]}}),[e,t]);return[o]}},16984(e,t,n){n.d(t,{$r:()=>l,BS:()=>i,kV:()=>o});let r=["parentNode"];function l(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function o(e,t){if(!e.length)return;let n=e.join("_");return t?`${t}_${n}`:r.includes(n)?`form_item_${n}`:n}function i(e,t,n,r,l,o){let i=r;return void 0!==o?i=o:n.validating?i="validating":e.length?i="error":t.length?i="warning":(n.touched||l&&n.validated)&&(i="success"),i}},30637(e,t,n){n.r(t),n.d(t,{default:()=>c,errorHandler:()=>s});var r=n(96540),l=n(82765),o=n(17125),i=n(19341),a=n(38258),u=n(13794);let s=(e,t)=>{var n,r,i,a;e.response&&401===e.response.status&&(null==(n=e.response.headers)?void 0:n.location)?window.location.replace(null==(a=e.response)||null==(i=a.headers)?void 0:i.location):(null==(r=e.response)?void 0:r.status)>=500||!navigator.onLine?l.Ay.error({message:"Server Error",description:"A server error occurred. Please try again later or contact support if the issue persists."}):t&&o.Ay.error("An error occurred. Please try again.")},c=(e,t,n)=>{let[l]=i.A.useForm(),c=(0,a.A)(e),[d,f]=(0,r.useState)(!0),p=(0,r.useCallback)(function(e){let{current:r,pageSize:l,sorter:i}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(!0);let u={pageNum:r-1,pageSize:l},d=a;return"function"==typeof t&&(d=t(a)),Object.keys(d).forEach(e=>{""!==d[e]&&(u[e]=d[e])}),(null==i?void 0:i.order)&&(u.sorts=[{direction:(null==i?void 0:i.order)==="descend"?"DESC":"ASC",property:null==i?void 0:i.columnKey}]),c.current(u).then(e=>{let{data:{data:t,result:r}}=e;return"success"!==r?(o.Ay.error("Failed to fetch data from server."),{total:0,list:[]}):"function"==typeof n?n(t):{total:t.totals,list:t.records}}).catch(e=>(s(e,!0),{total:0,list:[]}))},[t,c,n]),{tableProps:g,search:{submit:h,reset:v}}=(0,u.A)(p,{debounceWait:400,form:l,onFinally(){f(!1)}}),m=(0,r.useMemo)(()=>({...g.pagination,showTotal:(e,t)=>`${t} of ${e} items`,showQuickJumper:!1,showSizeChanger:{variant:"underlined",size:"small"},pageSizeOptions:[10,20,30,40,50]}),[g]);return{tableProps:{...g,loading:d,pagination:m,scroll:{x:"max-content"}},form:l,submit:h,reset:v}}}}]);