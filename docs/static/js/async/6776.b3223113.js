"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["6776"],{11627(e,t,s){s.r(t),s.d(t,{default:()=>b});var r=s(74848),a=s(13794),n=s(68874),l=s(26149),u=s(36813),i=s(58607),d=s(52930),o=s(29522),p=s(56750),c=s(96540),h=s(31290),g=s(53054),m=s(10894);let x=(e,t)=>{let{current:s,pageSize:r}=e,a=`page=${s}&size=${r}`;return m.default.post(`/users?${a}`,t).then(e=>({total:e.data.total,list:e.data.list}))},b=()=>{let{t:e}=(0,g.Bd)("pages.user"),[t]=n.A.useForm(),{tableProps:s,search:{submit:m,reset:b}}=(0,a.A)(x,{form:t,defaultParams:[{current:1,pageSize:5},{name:"hello",age:"18",address:"shanghai"}]}),A=[{title:e("pages.user:usersColName"),dataIndex:"name"},{title:e("pages.user:usersColAge"),dataIndex:"age"},{title:e("pages.user:usersColAddress"),dataIndex:"address"}],y=(0,c.useMemo)(()=>[{type:l.A,name:"name",label:e("pages.user:usersFormName")},{type:l.A,name:"age",label:e("pages.user:usersFormAge")},{type:l.A,name:"address",label:e("pages.user:usersFormAddress")},{render:()=>(0,r.jsxs)(u.A,{children:[(0,r.jsx)(i.Ay,{htmlType:"submit",type:"primary",onClick:m,children:e("pages.user:usersBtnSubmit")}),(0,r.jsx)(i.Ay,{htmlType:"reset",onClick:b,children:e("pages.user:usersBtnReset")})]})}],[m,b,e]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.A,{justify:"space-between",wrap:!0,children:[(0,r.jsx)("h1",{children:e("pages.user:usersTitle")}),(0,r.jsxs)(u.A,{children:[(0,r.jsx)(h.N_,{to:"./add",children:e("pages.user:usersBtnAdd")}),(0,r.jsx)(h.N_,{to:"./edit",children:e("pages.user:usersBtnEdit")})]})]}),(0,r.jsx)(n.A,{form:t,layout:"horizontal",children:(0,r.jsx)(p._n,{wrap:!0,layout:y,gap:16})}),(0,r.jsx)(o.A,{columns:A,rowKey:"key",scroll:{x:"max-content"},...s})]})}},10894(e,t,s){s.r(t),s.d(t,{default:()=>u,requestWithDedup:()=>l});var r=s(88909),a=s(8161);let n=r.A.create({baseURL:"/book-engine",withCredentials:!0,timeout:3e4});n.interceptors.request.use(e=>(e.headers["X-Request-Time"]=Date.now().toString(),e),e=>Promise.reject(e)),n.interceptors.response.use(e=>{var t;let s=null==(t=e.config.headers)?void 0:t["X-Request-Time"];return s&&(Date.now(),parseInt(s,10)),e},e=>{if(!e.response)return Promise.reject(e);let{status:t}=e.response;return Promise.reject(e)});let l={get:(e,t)=>a.globalRequestDeduplicator.execute(e,"GET",()=>n.get(e,t).then(e=>e.data),null==t?void 0:t.params),post:(e,t,s)=>a.globalRequestDeduplicator.execute(e,"POST",()=>n.post(e,t,s).then(e=>e.data),t),put:(e,t,s)=>a.globalRequestDeduplicator.execute(e,"PUT",()=>n.put(e,t,s).then(e=>e.data),t),delete:(e,t)=>a.globalRequestDeduplicator.execute(e,"DELETE",()=>n.delete(e,t).then(e=>e.data),null==t?void 0:t.params)},u=n},8161(e,t,s){s.r(t),s.d(t,{RequestDeduplicator:()=>a,globalRequestDeduplicator:()=>n});var r=s(50467);class a{generateKey(e,t,s){let r=s?JSON.stringify(s):"";return`${t.toUpperCase()}:${e}:${r}`}async execute(e,t,s,r){if(!this.enabled)return s();let a=this.generateKey(e,t,r),n=this.pendingRequests.get(a);if(n)return n;let l=s().then(e=>(this.pendingRequests.delete(a),e)).catch(e=>{throw this.pendingRequests.delete(a),e});return this.pendingRequests.set(a,l),l}clearAll(){this.pendingRequests.clear()}getPendingCount(){return this.pendingRequests.size}setEnabled(e){this.enabled=e,e||this.clearAll()}constructor(e=!0){(0,r._)(this,"pendingRequests",new Map),(0,r._)(this,"enabled",void 0),this.enabled=e}}let n=new a(!0)}}]);