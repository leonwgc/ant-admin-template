"use strict";(self.webpackChunkneat_admin_template=self.webpackChunkneat_admin_template||[]).push([["3832"],{90030(n,t,e){e.d(t,{A:()=>a});var r=e(96540),i=e(65523),o=e(40860);let a=function(n){o.A&&!(0,i.Tn)(n)&&console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof n,'".')),(0,r.useEffect)(function(){null==n||n()},[])}},7259(n,t,e){e.d(t,{A:()=>W});var r=e(31635),i=e(96540),o=e(14369),a=function(n,t){var e=t.manual,a=t.ready,u=void 0===a||a,c=t.defaultParams,s=void 0===c?[]:c,l=t.refreshDeps,f=t.refreshDepsAction,d=(0,i.useRef)(!1);return d.current=!1,(0,o.A)(function(){!e&&u&&(d.current=!0,n.run.apply(n,(0,r.fX)([],(0,r.zs)(s),!1)))},[u]),(0,o.A)(function(){!d.current&&(e||(d.current=!0,f?f():n.refresh()))},(0,r.fX)([],(0,r.zs)(void 0===l?[]:l),!1)),{onBefore:function(){if(!u)return{stopNow:!0}}}};a.onInit=function(n){var t=n.ready;return{loading:!n.manual&&(void 0===t||t)}};var u=e(34313);let c=function(n,t){var e=(0,i.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==e.initialized&&(0,u.A)(e.deps,t)||(e.deps=t,e.obj=n(),e.initialized=!0),e.obj};var s=e(16415),l=new Map,f=function(n,t,e){var i=l.get(n);(null==i?void 0:i.timer)&&clearTimeout(i.timer);var o=void 0;t>-1&&(o=setTimeout(function(){l.delete(n)},t)),l.set(n,(0,r.Cl)((0,r.Cl)({},e),{timer:o}))},d=new Map,v=function(n,t){d.set(n,t),t.then(function(t){return d.delete(n),t}).catch(function(){d.delete(n)})},h={},p=function(n,t){h[n]&&h[n].forEach(function(n){return n(t)})},m=function(n,t){return h[n]||(h[n]=[]),h[n].push(t),function(){var e=h[n].indexOf(t);h[n].splice(e,1)}};let y=function(n,t){var e=t.cacheKey,o=t.cacheTime,a=void 0===o?3e5:o,u=t.staleTime,h=void 0===u?0:u,y=t.setCache,g=t.getCache,A=(0,i.useRef)(void 0),b=(0,i.useRef)(void 0),w=function(n,t){y?y(t):f(n,a,t),p(n,t.data)},P=function(n,t){return(void 0===t&&(t=[]),g)?g(t):l.get(n)};return(c(function(){if(e){var t=P(e);t&&Object.hasOwnProperty.call(t,"data")&&(n.state.data=t.data,n.state.params=t.params,(-1===h||Date.now()-t.time<=h)&&(n.state.loading=!1)),A.current=m(e,function(t){n.setState({data:t})})}},[]),(0,s.A)(function(){var n;null==(n=A.current)||n.call(A)}),e)?{onBefore:function(n){var t=P(e,n);return t&&Object.hasOwnProperty.call(t,"data")?-1===h||Date.now()-t.time<=h?{loading:!1,data:null==t?void 0:t.data,error:void 0,returnNow:!0}:{data:null==t?void 0:t.data,error:void 0}:{}},onRequest:function(n,t){var i=d.get(e);return i&&i!==b.current||(b.current=i=n.apply(void 0,(0,r.fX)([],(0,r.zs)(t),!1)),v(e,i)),{servicePromise:i}},onSuccess:function(t,r){var i;e&&(null==(i=A.current)||i.call(A),w(e,{data:t,params:r,time:Date.now()}),A.current=m(e,function(t){n.setState({data:t})}))},onMutate:function(t){var r;e&&(null==(r=A.current)||r.call(A),w(e,{data:t,params:n.state.params,time:Date.now()}),A.current=m(e,function(t){n.setState({data:t})}))}}:{}};var g=e(38221),A=e.n(g);let b=function(n,t){var e=t.debounceWait,o=t.debounceLeading,a=t.debounceTrailing,u=t.debounceMaxWait,c=(0,i.useRef)(void 0),s=(0,i.useMemo)(function(){var n={};return void 0!==o&&(n.leading=o),void 0!==a&&(n.trailing=a),void 0!==u&&(n.maxWait=u),n},[o,a,u]);return((0,i.useEffect)(function(){if(e){var t=n.runAsync.bind(n);return c.current=A()(function(n){n()},e,s),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise(function(e,i){var o;null==(o=c.current)||o.call(c,function(){t.apply(void 0,(0,r.fX)([],(0,r.zs)(n),!1)).then(e).catch(i)})})},function(){var e;null==(e=c.current)||e.cancel(),n.runAsync=t}}},[e,s]),e)?{onCancel:function(){var n;null==(n=c.current)||n.cancel()}}:{}},w=function(n,t){var e=t.loadingDelay,r=t.ready,o=(0,i.useRef)(void 0);if(!e)return{};var a=function(){o.current&&clearTimeout(o.current)};return{onBefore:function(){return a(),!1!==r&&(o.current=setTimeout(function(){n.setState({loading:!0})},e)),{loading:!1}},onFinally:function(){a()},onCancel:function(){a()}}};var P=e(50127);function C(){return!P.A||"hidden"!==document.visibilityState}var R=[];P.A&&window.addEventListener("visibilitychange",function(){if(C())for(var n=0;n<R.length;n++)(0,R[n])()},!1);let T=function(n,t){var e=t.pollingInterval,r=t.pollingWhenHidden,a=void 0===r||r,u=t.pollingErrorRetryCount,c=void 0===u?-1:u,s=(0,i.useRef)(void 0),l=(0,i.useRef)(void 0),f=(0,i.useRef)(0),d=function(){var n;s.current&&clearTimeout(s.current),null==(n=l.current)||n.call(l)};return((0,o.A)(function(){e||d()},[e]),e)?{onBefore:function(){d()},onError:function(){f.current+=1},onSuccess:function(){f.current=0},onFinally:function(){-1===c||-1!==c&&f.current<=c?s.current=setTimeout(function(){if(a||C())n.refresh();else{var t;t=function(){n.refresh()},R.push(t),l.current=function(){var n=R.indexOf(t);R.splice(n,1)}}},e):f.current=0},onCancel:function(){d()}}:{}};var z=[];if(P.A){var S=function(){if(C()&&(!P.A||void 0===navigator.onLine||navigator.onLine))for(var n=0;n<z.length;n++)(0,z[n])()};window.addEventListener("visibilitychange",S,!1),window.addEventListener("focus",S,!1)}let X=function(n,t){var e=t.refreshOnWindowFocus,o=t.focusTimespan,a=void 0===o?5e3:o,u=(0,i.useRef)(void 0),c=function(){var n;null==(n=u.current)||n.call(u)};return(0,i.useEffect)(function(){if(e){var t,i,o,s=(t=n.refresh.bind(n),i=!1,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];i||(i=!0,t.apply(void 0,(0,r.fX)([],(0,r.zs)(n),!1)),setTimeout(function(){i=!1},a))});o=function(){s()},z.push(o),u.current=function(){var n=z.indexOf(o);n>-1&&z.splice(n,1)}}return function(){c()}},[e,a]),(0,s.A)(function(){c()}),{}},E=function(n,t){var e=t.retryInterval,r=t.retryCount,o=(0,i.useRef)(void 0),a=(0,i.useRef)(0),u=(0,i.useRef)(!1);return r?{onBefore:function(){u.current||(a.current=0),u.current=!1,o.current&&clearTimeout(o.current)},onSuccess:function(){a.current=0},onError:function(){a.current+=1,-1===r||a.current<=r?o.current=setTimeout(function(){u.current=!0,n.refresh()},null!=e?e:Math.min(1e3*Math.pow(2,a.current),3e4)):a.current=0},onCancel:function(){a.current=0,o.current&&clearTimeout(o.current)}}:{}};var H=e(7350),O=e.n(H);let j=function(n,t){var e=t.throttleWait,o=t.throttleLeading,a=t.throttleTrailing,u=(0,i.useRef)(void 0),c={};return(void 0!==o&&(c.leading=o),void 0!==a&&(c.trailing=a),(0,i.useEffect)(function(){if(e){var t=n.runAsync.bind(n);return u.current=O()(function(n){n()},e,c),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise(function(e,i){var o;null==(o=u.current)||o.call(u,function(){t.apply(void 0,(0,r.fX)([],(0,r.zs)(n),!1)).then(e).catch(i)})})},function(){var e;n.runAsync=t,null==(e=u.current)||e.cancel()}}},[e,o,a]),e)?{onCancel:function(){var n;null==(n=u.current)||n.cancel()}}:{}};var B=e(38258),M=e(68645),x=e(90030),D=e(59452),F=e(40860),L=e(65523),I=function(){function n(n,t,e,i){void 0===i&&(i={}),this.serviceRef=n,this.options=t,this.subscribe=e,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,r.Cl)((0,r.Cl)((0,r.Cl)({},this.state),{loading:!t.manual}),i)}return n.prototype.setState=function(n){void 0===n&&(n={}),this.state=(0,r.Cl)((0,r.Cl)({},this.state),n),this.subscribe()},n.prototype.runPluginHandler=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var i=this.pluginImpls.map(function(e){var i;return null==(i=e[n])?void 0:i.call.apply(i,(0,r.fX)([e],(0,r.zs)(t),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,r.fX)([{}],(0,r.zs)(i),!1))},n.prototype.runAsync=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return(0,r.sH)(this,void 0,void 0,function(){var t,e,i,o,a,u,c,s,l,f,d,v,h,p,m,y,g,A,b,w,P;return(0,r.YH)(this,function(C){switch(C.label){case 0:if(this.count+=1,t=this.count,o=void 0!==(i=(e=this.runPluginHandler("onBefore",n)).stopNow)&&i,u=void 0!==(a=e.returnNow)&&a,c=(0,r.Tt)(e,["stopNow","returnNow"]),o)return[2,new Promise(function(){})];if(this.setState((0,r.Cl)({loading:!0,params:n},c)),u)return[2,Promise.resolve(c.data)];null==(h=(v=this.options).onBefore)||h.call(v,n),C.label=1;case 1:return C.trys.push([1,3,,4]),(s=this.runPluginHandler("onRequest",this.serviceRef.current,n).servicePromise)||(s=(d=this.serviceRef).current.apply(d,(0,r.fX)([],(0,r.zs)(n),!1))),[4,s];case 2:if(l=C.sent(),t!==this.count)return[2,new Promise(function(){})];return this.setState({data:l,error:void 0,loading:!1}),null==(m=(p=this.options).onSuccess)||m.call(p,l,n),this.runPluginHandler("onSuccess",l,n),null==(g=(y=this.options).onFinally)||g.call(y,n,l,void 0),t===this.count&&this.runPluginHandler("onFinally",n,l,void 0),[2,l];case 3:if(f=C.sent(),t!==this.count)return[2,new Promise(function(){})];throw this.setState({error:f,loading:!1}),null==(b=(A=this.options).onError)||b.call(A,f,n),this.runPluginHandler("onError",f,n),null==(P=(w=this.options).onFinally)||P.call(w,n,void 0,f),t===this.count&&this.runPluginHandler("onFinally",n,void 0,f),f;case 4:return[2]}})})},n.prototype.run=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.runAsync.apply(this,(0,r.fX)([],(0,r.zs)(t),!1)).catch(function(t){n.options.onError||console.error(t)})},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,(0,r.fX)([],(0,r.zs)(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,r.fX)([],(0,r.zs)(this.state.params||[]),!1))},n.prototype.mutate=function(n){var t=(0,L.Tn)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",t),this.setState({data:t})},n}();let N=function(n,t,e){void 0===t&&(t={}),void 0===e&&(e=[]);var i=t.manual,o=void 0!==i&&i,a=t.ready,u=void 0===a||a,l=(0,r.Tt)(t,["manual","ready"]);F.A&&t.defaultParams&&!Array.isArray(t.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof t.defaultParams));var f=(0,r.Cl)({manual:o,ready:u},l),d=(0,B.A)(n),v=(0,D.A)(),h=c(function(){var n=e.map(function(n){var t;return null==(t=null==n?void 0:n.onInit)?void 0:t.call(n,f)}).filter(Boolean);return new I(d,f,v,Object.assign.apply(Object,(0,r.fX)([{}],(0,r.zs)(n),!1)))},[]);return h.options=f,h.pluginImpls=e.map(function(n){return n(h,f)}),(0,x.A)(function(){if(!o&&u){var n=h.state.params||t.defaultParams||[];h.run.apply(h,(0,r.fX)([],(0,r.zs)(n),!1))}}),(0,s.A)(function(){h.cancel()}),{loading:h.state.loading,data:h.state.data,error:h.state.error,params:h.state.params||[],cancel:(0,M.A)(h.cancel.bind(h)),refresh:(0,M.A)(h.refresh.bind(h)),refreshAsync:(0,M.A)(h.refreshAsync.bind(h)),run:(0,M.A)(h.run.bind(h)),runAsync:(0,M.A)(h.runAsync.bind(h)),mutate:(0,M.A)(h.mutate.bind(h))}},W=function(n,t,e){return N(n,t,(0,r.fX)((0,r.fX)([],(0,r.zs)(e||[]),!1),[b,w,T,X,j,a,y,E],!1))}}}]);