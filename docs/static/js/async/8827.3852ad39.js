"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["8827"],{90443(e,i,l){l.r(i)},65613(e,i,l){l.r(i)},12804(e,i,l){l.r(i),l.d(i,{VerificationCodeInput:()=>c,default:()=>t});var n=l(74848),s=l(96540);l(90443);let c=e=>{let{length:i=6,onComplete:l,onChange:c,className:t="",disabled:d=!1,autoFocus:r=!0}=e,[o,a]=(0,s.useState)(Array(i).fill("")),h=(0,s.useRef)([]);(0,s.useEffect)(()=>{r&&h.current[0]&&!d&&h.current[0].focus()},[r,d]);let x=e=>{var n;if(d)return;e.preventDefault();let s=e.clipboardData.getData("text/plain").replace(/[^0-9]/g,"").split("").slice(0,i),t=Array(i).fill("");s.forEach((e,i)=>{t[i]=e}),a(t),null==c||c(t.join(""));let r=Math.min(s.length,i-1);null==(n=h.current[r])||n.focus(),t.every(e=>""!==e)&&(null==l||l(t.join("")))};return(0,n.jsx)("div",{className:`verification-code-input ${t}`,children:o.map((e,s)=>(0,n.jsx)("input",{ref:e=>h.current[s]=e,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,n)=>{var s,t;if(d)return;let r=n.replace(/[^0-9]/g,"");if(r.length>1){let n=r.split("").slice(0,i-e),t=[...o];n.forEach((l,n)=>{e+n<i&&(t[e+n]=l)}),a(t),null==c||c(t.join(""));let d=Math.min(e+n.length,i-1);null==(s=h.current[d])||s.focus(),t.every(e=>""!==e)&&(null==l||l(t.join("")));return}let x=[...o];x[e]=r,a(x),null==c||c(x.join("")),r&&e<i-1&&(null==(t=h.current[e+1])||t.focus()),x.every(e=>""!==e)&&""!==x[i-1]&&(null==l||l(x.join("")))})(s,e.target.value),onKeyDown:e=>((e,l)=>{var n,s,t;if(!d)if("Backspace"===l.key){if(l.preventDefault(),o[e]){let i=[...o];i[e]="",a(i),null==c||c(i.join(""))}else if(e>0){let i=[...o];i[e-1]="",a(i),null==c||c(i.join("")),null==(n=h.current[e-1])||n.focus()}}else"ArrowLeft"===l.key&&e>0?(l.preventDefault(),null==(s=h.current[e-1])||s.focus()):"ArrowRight"===l.key&&e<i-1&&(l.preventDefault(),null==(t=h.current[e+1])||t.focus())})(s,e),onPaste:x,onFocus:()=>{var e;null==(e=h.current[s])||e.select()},disabled:d,className:"verification-code-input__box"},s))})},t=c},45174(e,i,l){l.r(i),l.d(i,{VerificationCodeInput:()=>n.VerificationCodeInput,default:()=>n.default});var n=l(12804)},64390(e,i,l){l.r(i),l.d(i,{default:()=>j});var n=l(74848),s=l(96540),c=l(17125),t=l(16629),d=l(36813),r=l(40244),o=l(58607),a=l(15398),h=l(45174);l(65613);var x=l(76440);let j=()=>{let[e,i]=(0,s.useState)(""),[l,j]=(0,s.useState)(!1),[u,p]=(0,s.useState)(0),[f,m]=(0,s.useState)(0),[v]=(0,x.A)({leftTime:1e3*u,interval:1e3,onEnd:()=>{m(e=>e+1),p(0)}});return(0,n.jsx)("div",{className:"verification-code-example",children:(0,n.jsx)(t.A,{title:"验证码输入组件示例",className:"verification-code-example__card",children:(0,n.jsxs)(d.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,n.jsxs)("div",{className:"verification-code-example__description",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"VerificationCodeInput"})," ","是一个用于输入验证码的组件。"]}),(0,n.jsx)("p",{children:"支持自动跳转、粘贴、删除、键盘导航等功能，常用于手机验证码、邮箱验证码等场景。"})]}),(0,n.jsx)(t.A,{title:"基础用法",type:"inner",children:(0,n.jsxs)(d.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"verification-code-example__label",children:"请输入6位验证码："}),(0,n.jsx)(h.default,{length:6,onComplete:e=>{c.Ay.success(`验证码输入完成: ${e}`)}})]}),(0,n.jsx)(r.A,{message:"输入提示",description:"输入一个数字后会自动跳转到下一个输入框，按 Backspace 键可以删除并返回上一个输入框",type:"info",showIcon:!0})]})}),(0,n.jsx)(t.A,{title:"完整验证流程",type:"inner",children:(0,n.jsxs)(d.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,n.jsx)("div",{className:"verification-code-example__phone",children:(0,n.jsxs)("p",{className:"verification-code-example__label",children:["验证码已发送至 ",(0,n.jsx)("strong",{children:"+86 13912345678"})]})}),(0,n.jsx)("div",{className:"verification-code-example__input-group",children:(0,n.jsx)(h.default,{length:6,onChange:e=>i(e),onComplete:e=>{c.Ay.success(`验证码验证成功: ${e}`)}})}),(0,n.jsx)("div",{className:"verification-code-example__countdown",children:v>0?(0,n.jsxs)("span",{className:"verification-code-example__countdown-text",children:[Math.round(v/1e3),"秒后重新获取"]}):(0,n.jsxs)(o.Ay,{type:"link",onClick:()=>{c.Ay.info("验证码已发送至 +86 13912345678"),p(6)},children:[f>0?"重新":"","获取验证码"]})}),(0,n.jsxs)("div",{className:"verification-code-example__actions",children:[(0,n.jsx)(o.Ay,{type:"primary",disabled:e.length<6,children:"验证"}),(0,n.jsx)(o.Ay,{onClick:()=>i(""),children:"重置"})]})]})}),(0,n.jsx)(t.A,{title:"自定义长度",type:"inner",children:(0,n.jsxs)(d.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"verification-code-example__label",children:"4位验证码："}),(0,n.jsx)(h.default,{length:4,onComplete:e=>c.Ay.success(`4位验证码: ${e}`)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"verification-code-example__label",children:"8位验证码："}),(0,n.jsx)(h.default,{length:8,onComplete:e=>c.Ay.success(`8位验证码: ${e}`)})]})]})}),(0,n.jsx)(t.A,{title:"禁用状态",type:"inner",children:(0,n.jsxs)(d.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,n.jsx)("div",{children:(0,n.jsx)(o.Ay,{type:"primary",onClick:()=>j(!l),style:{marginBottom:16},children:l?"启用":"禁用"})}),(0,n.jsx)(h.default,{length:6,disabled:l})]})}),(0,n.jsx)(t.A,{title:"功能特性",type:"inner",children:(0,n.jsx)("div",{className:"verification-code-example__features",children:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"自动跳转"}),"：输入一个字符后自动跳转到下一个输入框"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"粘贴支持"}),"：支持直接粘贴完整验证码，自动分配到各个输入框"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"删除功能"}),"：按 Backspace 键删除当前字符，如果当前为空则删除前一个字符"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"键盘导航"}),"：支持左右箭头键在输入框之间切换"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"自动聚焦"}),"：默认自动聚焦第一个输入框"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"完成回调"}),"：输入完成后自动触发 onComplete 回调"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"仅数字"}),"：只允许输入数字字符"]})]})})}),(0,n.jsx)(t.A,{title:"组件 API",type:"inner",className:"verification-code-example__api",children:(0,n.jsx)("div",{className:"verification-code-example__table",children:(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"属性"}),(0,n.jsx)("th",{children:"说明"}),(0,n.jsx)("th",{children:"类型"}),(0,n.jsx)("th",{children:"默认值"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"length"})}),(0,n.jsx)("td",{children:"验证码长度"}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"number"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"6"})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"onComplete"})}),(0,n.jsx)("td",{children:"输入完成回调"}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"(code: string) => void"})}),(0,n.jsx)("td",{children:"-"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"onChange"})}),(0,n.jsx)("td",{children:"值变化回调"}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"(code: string) => void"})}),(0,n.jsx)("td",{children:"-"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"disabled"})}),(0,n.jsx)("td",{children:"是否禁用"}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"boolean"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"false"})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"autoFocus"})}),(0,n.jsx)("td",{children:"是否自动聚焦"}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"boolean"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"true"})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"className"})}),(0,n.jsx)("td",{children:"自定义类名"}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsx)("td",{children:"-"})]})]})]})})}),(0,n.jsx)(t.A,{title:"使用代码",type:"inner",className:"verification-code-example__usage",children:(0,n.jsx)("div",{className:"verification-code-example__code",children:(0,n.jsx)("pre",{children:`import VerificationCodeInput from '@/components/VerificationCodeInput';

// 基础用法
<VerificationCodeInput
  length={6}
  onChange={(code) => console.log(code)}
  onComplete={(code) => {
    console.log('验证码输入完成:', code);
  }}
/>

// 完整示例
const [code, setCode] = useState('');

<VerificationCodeInput
  length={6}
  onChange={setCode}
  onComplete={(code) => {
    // 验证码输入完成，执行验证逻辑
    verifyCode(code);
  }}
  autoFocus
/>

// 自定义长度
<VerificationCodeInput length={4} />

// 禁用状态
<VerificationCodeInput disabled />`})})}),(0,n.jsx)(a.A,{}),(0,n.jsxs)("div",{className:"verification-code-example__tips",children:[(0,n.jsx)("h4",{children:"使用建议："}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"验证码长度建议使用 4-8 位，6 位最为常见"}),(0,n.jsx)("li",{children:"建议配合倒计时功能，避免频繁请求验证码"}),(0,n.jsx)("li",{children:"在移动端使用时，会自动调起数字键盘"}),(0,n.jsx)("li",{children:"支持粘贴功能，提升用户体验"}),(0,n.jsx)("li",{children:"输入完成后建议给予明确的反馈"}),(0,n.jsx)("li",{children:"可以配合表单验证，确保验证码格式正确"})]})]})]})})})}}}]);