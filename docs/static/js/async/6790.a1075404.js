"use strict";(self.webpackChunkneat_admin_template=self.webpackChunkneat_admin_template||[]).push([["6790"],{90443(e,n,i){i.r(n)},44563(e,n,i){i.r(n)},11688(e,n,i){i.r(n)},76440(e,n,i){i.d(n,{A:()=>d});var t=i(31635),a=i(74353),c=i.n(a),o=i(96540),r=i(38258),s=i(65523),l=function(e){if(!e)return 0;var n=c()(e).valueOf()-Date.now();return n<0?0:n};let d=function(e){void 0===e&&(e={});var n=e||{},i=n.leftTime,a=n.targetDate,c=n.interval,d=void 0===c?1e3:c,u=n.onEnd,h=(0,o.useMemo)(function(){return(0,s.Et)(i)&&i>0?Date.now()+i:void 0},[i]),f="leftTime"in e?h:a,p=(0,t.zs)((0,o.useState)(function(){return l(f)}),2),x=p[0],m=p[1],v=(0,r.A)(u);(0,o.useEffect)(function(){if(!f)return void m(0);m(l(f));var e=setInterval(function(){var n,i=l(f);m(i),0===i&&(clearInterval(e),null==(n=v.current)||n.call(v))},d);return function(){return clearInterval(e)}},[f,d]);var j=(0,o.useMemo)(function(){return{days:Math.floor(x/864e5),hours:Math.floor(x/36e5)%24,minutes:Math.floor(x/6e4)%60,seconds:Math.floor(x/1e3)%60,milliseconds:Math.floor(x)%1e3}},[x]);return[x,j]}},90030(e,n,i){i.d(n,{A:()=>o});var t=i(96540),a=i(65523),c=i(40860);let o=function(e){c.A&&!(0,a.Tn)(e)&&console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof e,'".')),(0,t.useEffect)(function(){null==e||e()},[])}},12804(e,n,i){i.r(n),i.d(n,{VerificationCodeInput:()=>c,default:()=>o});var t=i(74848),a=i(96540);i(90443);let c=e=>{let{length:n=6,onComplete:i,onChange:c,className:o="",disabled:r=!1,autoFocus:s=!0}=e,[l,d]=(0,a.useState)(Array(n).fill("")),u=(0,a.useRef)([]);(0,a.useEffect)(()=>{s&&u.current[0]&&!r&&u.current[0].focus()},[s,r]);let h=e=>{var t;if(r)return;e.preventDefault();let a=e.clipboardData.getData("text/plain").replace(/[^0-9]/g,"").split("").slice(0,n),o=Array(n).fill("");a.forEach((e,n)=>{o[n]=e}),d(o),null==c||c(o.join(""));let s=Math.min(a.length,n-1);null==(t=u.current[s])||t.focus(),o.every(e=>""!==e)&&(null==i||i(o.join("")))};return(0,t.jsx)("div",{className:`verification-code-input ${o}`,children:l.map((e,a)=>(0,t.jsx)("input",{ref:e=>u.current[a]=e,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,t)=>{var a,o;if(r)return;let s=t.replace(/[^0-9]/g,"");if(s.length>1){let t=s.split("").slice(0,n-e),o=[...l];t.forEach((i,t)=>{e+t<n&&(o[e+t]=i)}),d(o),null==c||c(o.join(""));let r=Math.min(e+t.length,n-1);null==(a=u.current[r])||a.focus(),o.every(e=>""!==e)&&(null==i||i(o.join("")));return}let h=[...l];h[e]=s,d(h),null==c||c(h.join("")),s&&e<n-1&&(null==(o=u.current[e+1])||o.focus()),h.every(e=>""!==e)&&""!==h[n-1]&&(null==i||i(h.join("")))})(a,e.target.value),onKeyDown:e=>((e,i)=>{var t,a,o;if(!r)if("Backspace"===i.key){if(i.preventDefault(),l[e]){let n=[...l];n[e]="",d(n),null==c||c(n.join(""))}else if(e>0){let n=[...l];n[e-1]="",d(n),null==c||c(n.join("")),null==(t=u.current[e-1])||t.focus()}}else"ArrowLeft"===i.key&&e>0?(i.preventDefault(),null==(a=u.current[e-1])||a.focus()):"ArrowRight"===i.key&&e<n-1&&(i.preventDefault(),null==(o=u.current[e+1])||o.focus())})(a,e),onPaste:h,onFocus:()=>{var e;null==(e=u.current[a])||e.select()},disabled:r,className:"verification-code-input__box"},a))})},o=c},33292(e,n,i){i.r(n),i.d(n,{default:()=>d});var t=i(74848),a=i(96540),c=i(36813),o=i(58607),r=i(12804),s=i(87625);i(44563);var l=i(90030);let d=e=>{let{contact:n,codeLength:i=8,countdownSeconds:d=60,onComplete:u,onResend:h,onGoBack:f}=e,{sec:p,isRunning:x,start:m,reset:v}=(0,s.default)(d,!0),[j,g]=(0,a.useState)("");return(0,l.A)(m),(0,t.jsx)("div",{className:"verification-code-page",children:(0,t.jsxs)("div",{className:"verification-code-page__content",children:[(0,t.jsxs)("h2",{className:"verification-code-page__title",children:["We have sent a ",i,"-digit verification code to your email"," ",(0,t.jsx)("span",{className:"verification-code-page__contact",children:n})]}),(0,t.jsxs)("div",{className:"verification-code-page__input-section",children:[(0,t.jsx)("label",{className:"verification-code-page__label",children:"Verification Code"}),(0,t.jsx)(r.VerificationCodeInput,{length:i,onComplete:e=>{g(e),null==u||u(e)},onChange:e=>{g(e)},autoFocus:!0})]}),(0,t.jsx)("div",{className:"verification-code-page__actions",children:(0,t.jsxs)(c.A,{size:16,children:[(0,t.jsx)(o.Ay,{type:"secondary",size:"large",onClick:()=>{x||(v(),m(),null==h||h())},disabled:x,className:"verification-code-page__resend-button",children:x?`Resend Code (${p}s)`:"Resend Code"}),(0,t.jsx)(o.Ay,{type:"secondary",size:"large",onClick:f,className:"verification-code-page__back-button",children:"Go back"})]})}),(0,t.jsx)("p",{className:"verification-code-page__hint",children:"Still can't find your recovery code? Please check your spam folder."})]})})}},96065(e,n,i){i.r(n),i.d(n,{default:()=>t.default});var t=i(33292)},87625(e,n,i){i.r(n),i.d(n,{default:()=>o});var t=i(76440),a=i(16415),c=i(96540);let o=e=>{let{seconds:n=60,onEnd:i}=e,[o,r]=(0,c.useState)(0),[s,l]=(0,c.useState)(0),[d]=(0,t.A)({leftTime:1e3*o,interval:1e3,onEnd:()=>{r(0),l(e=>e+1),null==i||i()}}),u=(0,c.useMemo)(()=>Math.round(d/1e3),[d]),h=(0,c.useMemo)(()=>u>0,[u]),f=(0,c.useCallback)(()=>{r(n)},[n]),p=(0,c.useCallback)(()=>{r(0),l(0)},[]),x=(0,c.useCallback)(e=>{e>0&&r(e)},[r]);return(0,a.A)(p),{sec:u,start:f,reset:p,isRunning:h,round:s,setLeft:x}}},99061(e,n,i){i.r(n),i.d(n,{default:()=>l});var t=i(74848),a=i(96540),c=i(16151),o=i(58607),r=i(16629),s=i(96065);i(11688);let l=()=>{let{message:e}=c.A.useApp(),[n,i]=(0,a.useState)(!1);return(0,t.jsx)("div",{className:"verification-code-page-example",children:n?(0,t.jsx)(s.default,{contact:"fe****@derbysoft.net",codeLength:8,countdownSeconds:60,onComplete:n=>{e.success(`Verification code entered: ${n}`)},onResend:()=>{e.info("Verification code resent successfully")},onGoBack:()=>{e.info("Going back to previous page"),i(!1)}}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"verification-code-page-example__title",children:"VerificationCodePage Component Examples"}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Basic Usage"}),(0,t.jsx)("p",{children:"Click the button to see the verification code page in action"}),(0,t.jsx)("div",{className:"verification-code-page-example__demo-box",children:(0,t.jsx)(o.Ay,{type:"primary",size:"large",onClick:()=>i(!0),children:"Show Verification Code Page"})}),(0,t.jsx)("div",{className:"verification-code-page-example__code",children:`<VerificationCodePage
  contact="fe****@derbysoft.net"
  codeLength={8}
  countdownSeconds={60}
  onComplete={handleComplete}
  onResend={handleResend}
  onGoBack={handleGoBack}
/>`})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Component Description"}),(0,t.jsx)("p",{children:"The VerificationCodePage component is a complete page for entering verification codes. It includes:"}),(0,t.jsxs)("ul",{className:"verification-code-page-example__list",children:[(0,t.jsx)("li",{children:"Clear instruction text showing where the code was sent"}),(0,t.jsx)("li",{children:"8-digit verification code input with auto-focus and paste support"}),(0,t.jsx)("li",{children:"Resend button with countdown timer (60 seconds by default)"}),(0,t.jsx)("li",{children:"Go back button to return to previous page"}),(0,t.jsx)("li",{children:"Helpful hint about checking spam folder"}),(0,t.jsx)("li",{children:"Responsive design for mobile and desktop"})]})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Props"}),(0,t.jsxs)("table",{className:"verification-code-page-example__table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Prop"}),(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Description"}),(0,t.jsx)("th",{children:"Default"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"contact"}),(0,t.jsx)("td",{children:"string"}),(0,t.jsx)("td",{children:"Email or phone display text (masked)"}),(0,t.jsx)("td",{children:"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"codeLength"}),(0,t.jsx)("td",{children:"number"}),(0,t.jsx)("td",{children:"Length of verification code"}),(0,t.jsx)("td",{children:"8"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"countdownSeconds"}),(0,t.jsx)("td",{children:"number"}),(0,t.jsx)("td",{children:"Countdown seconds for resend button"}),(0,t.jsx)("td",{children:"60"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"onComplete"}),(0,t.jsx)("td",{children:"(code: string) => void"}),(0,t.jsx)("td",{children:"Callback when verification code is complete"}),(0,t.jsx)("td",{children:"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"onResend"}),(0,t.jsx)("td",{children:"() => void"}),(0,t.jsx)("td",{children:"Callback when resend button is clicked"}),(0,t.jsx)("td",{children:"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"onGoBack"}),(0,t.jsx)("td",{children:"() => void"}),(0,t.jsx)("td",{children:"Callback when go back button is clicked"}),(0,t.jsx)("td",{children:"-"})]})]})]})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Key Features"}),(0,t.jsxs)("div",{className:"verification-code-page-example__features",children:[(0,t.jsx)(r.A,{title:"Auto-focus",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"First input automatically focuses when page loads"})}),(0,t.jsx)(r.A,{title:"Auto-advance",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Cursor automatically moves to next input after entering a digit"})}),(0,t.jsx)(r.A,{title:"Paste Support",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Paste full code and it will be automatically distributed"})}),(0,t.jsx)(r.A,{title:"Countdown Timer",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Resend button disabled during countdown (59s)"})}),(0,t.jsx)(r.A,{title:"Responsive",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Adapts layout for mobile and desktop screens"})}),(0,t.jsx)(r.A,{title:"Keyboard Nav",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Backspace moves to previous input when current is empty"})})]})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Usage Tips"}),(0,t.jsxs)("ul",{className:"verification-code-page-example__list",children:[(0,t.jsx)("li",{children:"Use this component for email or phone verification flows"}),(0,t.jsx)("li",{children:"Always mask the contact information to protect user privacy"}),(0,t.jsx)("li",{children:"Implement rate limiting on the backend to prevent abuse of resend"}),(0,t.jsx)("li",{children:"Consider adding error handling for invalid codes (e.g., red border on inputs)"}),(0,t.jsx)("li",{children:"The countdown timer automatically starts when the page loads"}),(0,t.jsx)("li",{children:"Make sure to validate the code on the backend before proceeding"})]})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Complete Example"}),(0,t.jsx)("div",{className:"verification-code-page-example__code",children:`import VerificationCodePage from '@/components/VerificationCodePage';
import { message } from '@derbysoft/neat-design';

const MyPage = () => {
  const handleComplete = (code: string) => {
    // Verify code with backend
    verifyCode(code)
      .then(() => {
        message.success('Verification successful!');
        // Navigate to next page
      })
      .catch(() => {
        message.error('Invalid verification code');
      });
  };

  const handleResend = () => {
    // Call API to resend code
    resendCode()
      .then(() => {
        message.info('Code resent to your email');
      });
  };

  return (
    <VerificationCodePage
      contact="fe****@derbysoft.net"
      codeLength={8}
      countdownSeconds={60}
      onComplete={handleComplete}
      onResend={handleResend}
      onGoBack={() => history.back()}
    />
  );
};`})]})]})})}}}]);