"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["3739"],{77159(r,s,e){e.r(s)},35064(r,s,e){e.r(s),e.d(s,{default:()=>x});var i=e(74848),l=e(96540),n=e(40244),d=e(16629),c=e(36813),h=e(58607),t=e(18941);e(77159);let x=()=>{let[r,s]=(0,l.useState)(!1);if(r)throw Error("\uD83D\uDCA5 渲染错误测试！这是一个故意触发的页面级错误。");return(0,i.jsxs)("div",{className:"error-test",children:[(0,i.jsx)("h1",{children:"\uD83E\uDDEA ErrorBoundary 页面级隔离测试"}),(0,i.jsx)(n.A,{message:"测试说明",description:"点击下方按钮会触发页面错误。观察：只有当前页面会显示错误，侧边栏菜单依然可用，您可以切换到其他页面。",type:"info",showIcon:!0,style:{marginBottom:24}}),(0,i.jsx)(d.A,{title:"测试页面级错误隔离",className:"error-test__card",children:(0,i.jsxs)(c.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,i.jsxs)("div",{className:"error-test__description",children:[(0,i.jsx)("h3",{children:"\uD83C\uDFAF 测试目标"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"验证页面级 ErrorBoundary 能正确捕获错误"}),(0,i.jsx)("li",{children:"确认错误只影响当前页面，不影响整个应用"}),(0,i.jsx)("li",{children:"测试侧边栏菜单是否依然可用"}),(0,i.jsx)("li",{children:"测试错误恢复功能（重新加载、返回首页、切换页面）"})]})]}),(0,i.jsxs)("div",{className:"error-test__actions",children:[(0,i.jsx)("h3",{children:"\uD83D\uDC1B 触发错误"}),(0,i.jsx)("p",{children:"点击按钮后，当前页面会立即崩溃并显示错误页面。"}),(0,i.jsx)(c.A,{children:(0,i.jsx)(h.Ay,{type:"primary",danger:!0,size:"large",icon:(0,i.jsx)(t.A,{}),onClick:()=>{s(!0)},children:"触发渲染错误"})})]}),(0,i.jsxs)("div",{className:"error-test__expected",children:[(0,i.jsx)("h3",{children:"✅ 预期结果"}),(0,i.jsxs)("div",{className:"error-test__expected-box",children:[(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"1. 当前页面显示错误 UI"})}),(0,i.jsx)("p",{children:"页面内容被 ErrorBoundary 捕获，显示："}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:'错误标题："页面加载失败"'}),(0,i.jsx)("li",{children:"错误描述：友好的提示信息"}),(0,i.jsx)("li",{children:"重新加载按钮"}),(0,i.jsx)("li",{children:"返回首页按钮"}),(0,i.jsx)("li",{children:"重试按钮"})]}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"2. 侧边栏和导航依然正常"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"✅ 左侧菜单可以点击"}),(0,i.jsx)("li",{children:"✅ 顶部 Header 正常显示"}),(0,i.jsx)("li",{children:"✅ 可以切换到其他页面"}),(0,i.jsx)("li",{children:"✅ 其他页面完全不受影响"})]}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"3. 开发环境显示详细信息"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:'错误消息："\uD83D\uDCA5 渲染错误测试！..."'}),(0,i.jsx)("li",{children:"组件堆栈信息"}),(0,i.jsx)("li",{children:"完整的错误堆栈"})]})]})]}),(0,i.jsxs)("div",{className:"error-test__instructions",children:[(0,i.jsx)("h3",{children:"\uD83D\uDCCB 测试步骤"}),(0,i.jsxs)("ol",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"第 1 步"}),'：点击上方"触发渲染错误"按钮']}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"第 2 步"}),"：观察页面显示错误 UI，但侧边栏依然可用"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"第 3 步"}),"：尝试通过侧边栏切换到其他页面（验证隔离效果）"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"第 4 步"}),'：返回本页面，点击"重新加载"按钮测试恢复功能']}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"第 5 步"}),'：或点击"返回首页"按钮跳转到首页']})]})]}),(0,i.jsx)(n.A,{message:"\uD83D\uDCA1 提示",description:"如果错误被正确隔离，您应该能够通过左侧菜单自由切换到用户管理、表单、Hooks 等其他页面，这些页面不会受到影响。",type:"success",showIcon:!0})]})}),(0,i.jsx)(d.A,{title:"\uD83D\uDD0D 对比测试",className:"error-test__card",children:(0,i.jsxs)(c.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"没有页面级 ErrorBoundary 的情况"}),(0,i.jsxs)("div",{className:"error-test__comparison error-test__comparison--bad",children:[(0,i.jsx)("p",{children:"❌ 整个应用崩溃"}),(0,i.jsx)("p",{children:"❌ 侧边栏不可用"}),(0,i.jsx)("p",{children:"❌ 无法切换页面"}),(0,i.jsx)("p",{children:"❌ 必须刷新整个应用"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"有页面级 ErrorBoundary 的情况（当前实现）"}),(0,i.jsxs)("div",{className:"error-test__comparison error-test__comparison--good",children:[(0,i.jsx)("p",{children:"✅ 只有当前页面崩溃"}),(0,i.jsx)("p",{children:"✅ 侧边栏完全可用"}),(0,i.jsx)("p",{children:"✅ 可以切换到其他页面"}),(0,i.jsx)("p",{children:"✅ 其他页面正常运行"}),(0,i.jsx)("p",{children:"✅ 提供多种恢复选项"})]})]})]})}),(0,i.jsx)(d.A,{title:"\uD83D\uDEE1️ 错误隔离架构",className:"error-test__card",children:(0,i.jsx)("pre",{className:"error-test__architecture",children:`┌─────────────────────────────────────────┐
│  App.tsx (全局 ErrorBoundary)          │ ← 第 1 层防护
│  ┌───────────────────────────────────┐ │
│  │  ConfigProvider                   │ │
│  │  ┌─────────────────────────────┐ │ │
│  │  │  RouteConfig                │ │ │
│  │  │  ┌───────────────────────┐  │ │ │
│  │  │  │ /error-test           │  │ │ │ ← 当前页面
│  │  │  │ (ErrorBoundary) ❌    │  │ │ │   (第 2 层防护)
│  │  │  ├───────────────────────┤  │ │ │
│  │  │  │ /users    ✅          │  │ │ │ ← 其他页面
│  │  │  ├───────────────────────┤  │ │ │   (不受影响)
│  │  │  │ /forms    ✅          │  │ │ │
│  │  │  ├───────────────────────┤  │ │ │
│  │  │  │ /dashboard ✅         │  │ │ │
│  │  │  └───────────────────────┘  │ │ │
│  │  └─────────────────────────────┘ │ │
│  └───────────────────────────────────┘ │
└─────────────────────────────────────────┘

✅ = 正常运行    ❌ = 显示错误页面`})})]})}}}]);