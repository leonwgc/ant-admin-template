"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["2332"],{74298(e,s,i){i.r(s)},56279(e,s,i){i.r(s),i.d(s,{default:()=>y});var a=i(74848),t=i(96540),l=i(26149),r=i(84713),n=i(68874),c=i(17125),g=i(16629),o=i(82690),p=i(15398),d=i(2733),h=i(40244),m=i(36813),x=i(58607),j=i(53054),A=i(5522);i(74298);let{TextArea:u}=l.A,{Option:S}=r.A,y=()=>{let{t:e}=(0,j.Bd)(),[s]=n.A.useForm(),[i,y]=(0,t.useState)(!1),[M,v]=(0,t.useState)(!1),[P,I]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e=A.aiService.getConfig();s.setFieldsValue(e),I(e.useMock)},[s]);let k=async s=>{y(!0);try{A.aiService.saveConfig(s),c.Ay.success(e("pages.ai:aiMsgSaveSuccess"))}catch(s){c.Ay.error(s.message||e("pages.ai:aiMsgSaveError"))}finally{y(!1)}},f=async()=>{v(!0);try{let i=s.getFieldsValue();A.aiService.saveConfig(i),await A.aiService.testConnection()?c.Ay.success(e("pages.ai:aiMsgTestSuccess")):c.Ay.error(e("pages.ai:aiMsgTestError"))}catch(s){c.Ay.error(s.message||e("pages.ai:aiMsgTestError"))}finally{v(!1)}};return(0,a.jsxs)("div",{className:"ai-settings",children:[(0,a.jsxs)("div",{className:"ai-settings__header",children:[(0,a.jsx)("h1",{className:"ai-settings__title",children:e("pages.ai:aiSettingsTitle")}),(0,a.jsx)("p",{className:"ai-settings__desc",children:e("pages.ai:aiSettingsDesc")})]}),(0,a.jsx)(g.A,{children:(0,a.jsxs)(n.A,{form:s,layout:"vertical",onFinish:k,initialValues:A.aiService.getConfig(),children:[(0,a.jsx)(n.A.Item,{name:"enabled",label:e("pages.ai:aiSettingsFormEnabled"),valuePropName:"checked",children:(0,a.jsx)(o.A,{})}),(0,a.jsx)(n.A.Item,{name:"useMock",label:e("pages.ai:aiSettingsFormUseMock"),valuePropName:"checked",help:e("pages.ai:aiSettingsHelpUseMock"),children:(0,a.jsx)(o.A,{onChange:e=>I(e)})}),(0,a.jsx)(p.A,{}),!P&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A.Item,{name:"apiKey",label:e("pages.ai:aiSettingsFormApiKey"),rules:[{required:!P,message:e("pages.ai:aiMsgApiKeyRequired")}],help:e("pages.ai:aiSettingsHelpApiKey"),children:(0,a.jsx)(l.A.Password,{placeholder:e("pages.ai:aiSettingsFormApiKeyPh"),autoComplete:"off"})}),(0,a.jsx)(n.A.Item,{name:"model",label:e("pages.ai:aiSettingsFormModel"),rules:[{required:!P}],children:(0,a.jsxs)(r.A,{placeholder:e("pages.ai:aiSettingsFormModelPh"),children:[(0,a.jsx)(S,{value:"gpt-4",children:e("pages.ai:aiModelGpt4")}),(0,a.jsx)(S,{value:"gpt-3.5-turbo",children:e("pages.ai:aiModelGpt35")}),(0,a.jsx)(S,{value:"gpt-4o-mini",children:e("pages.ai:aiModelGpt4Mini")})]})}),(0,a.jsx)(p.A,{}),(0,a.jsx)(n.A.Item,{name:"temperature",label:e("pages.ai:aiSettingsFormTemperature"),help:e("pages.ai:aiSettingsHelpTemperature"),children:(0,a.jsx)(d.A,{min:0,max:2,step:.1,style:{width:"100%"},placeholder:e("pages.ai:aiSettingsFormTemperaturePh")})}),(0,a.jsx)(n.A.Item,{name:"maxTokens",label:e("pages.ai:aiSettingsFormMaxTokens"),help:e("pages.ai:aiSettingsHelpMaxTokens"),children:(0,a.jsx)(d.A,{min:100,max:4e3,step:100,style:{width:"100%"},placeholder:e("pages.ai:aiSettingsFormMaxTokensPh")})}),(0,a.jsx)(p.A,{})]}),(0,a.jsx)(p.A,{}),(0,a.jsx)(n.A.Item,{name:"systemPrompt",label:e("pages.ai:aiSettingsFormSystemPrompt"),help:e("pages.ai:aiSettingsHelpSystemPrompt"),children:(0,a.jsx)(u,{rows:6,placeholder:e("pages.ai:aiSettingsFormSystemPromptPh")})}),(0,a.jsx)(h.A,{message:P?"Mock 模式":"提示",description:P?"当前使用 Mock 模式，AI 助手将使用本地预设回答，无需消耗 API 额度。适合测试和演示使用。":"为了保护您的 API 密钥安全，所有配置信息仅保存在浏览器本地存储中，不会上传到服务器。",type:P?"success":"info",showIcon:!0,style:{marginBottom:24}}),(0,a.jsx)(n.A.Item,{children:(0,a.jsxs)(m.A,{children:[(0,a.jsx)(x.Ay,{type:"primary",htmlType:"submit",loading:i,children:e("pages.ai:aiSettingsBtnSave")}),(0,a.jsx)(x.Ay,{onClick:f,loading:M,children:e("pages.ai:aiSettingsBtnTest")}),(0,a.jsx)(x.Ay,{onClick:()=>{A.aiService.resetConfig();let i=A.aiService.getConfig();s.setFieldsValue(i),c.Ay.success(e("pages.ai:aiMsgSaveSuccess"))},children:e("pages.ai:aiSettingsBtnReset")})]})})]})}),(0,a.jsx)(g.A,{title:"使用说明",style:{marginTop:24},children:(0,a.jsxs)("div",{className:"ai-settings__help",children:[(0,a.jsx)("h3",{children:"Mock 模式 vs 真实 API"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Mock 模式（推荐新手）:"})," 无需 API 密钥，使用本地预设回答， 完全免费，适合测试和演示"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"真实 API 模式:"})," 需要 OpenAI API 密钥，使用真实的 GPT 模型， 回答更智能准确，但需要付费"]})]}),(0,a.jsx)("h3",{children:"如何获取 OpenAI API 密钥？"}),(0,a.jsxs)("ol",{children:[(0,a.jsxs)("li",{children:["访问"," ",(0,a.jsx)("a",{href:"https://platform.openai.com",target:"_blank",rel:"noopener noreferrer",children:"OpenAI 官网"})]}),(0,a.jsx)("li",{children:"注册并登录账号"}),(0,a.jsx)("li",{children:"进入 API Keys 页面创建新的密钥"}),(0,a.jsx)("li",{children:"将密钥复制到上方表单中"})]}),(0,a.jsx)("h3",{children:"模型选择建议"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"GPT-4:"})," 最强大的模型，适合复杂任务，但响应较慢且成本较高"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"GPT-3.5 Turbo:"})," 平衡性能和成本，适合大多数场景"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"GPT-4 Mini:"})," 快速响应，适合简单对话"]})]}),(0,a.jsx)("h3",{children:"参数说明"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"温度 (Temperature):"})," 0-2之间，越低越确定，越高越随机"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"最大令牌数:"})," 控制回复长度，通常 100-2000 之间"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"系统提示词:"})," 定义 AI 的角色和行为方式"]})]})]})})]})}}}]);