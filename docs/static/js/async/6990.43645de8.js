"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["6990"],{30637(e,r,t){t.r(r),t.d(r,{default:()=>c,errorHandler:()=>u});var o=t(96540),a=t(82765),s=t(17125),n=t(19341),l=t(38258),i=t(13794);let u=(e,r)=>{var t,o,n,l;e.response&&401===e.response.status&&(null==(t=e.response.headers)?void 0:t.location)?window.location.replace(null==(l=e.response)||null==(n=l.headers)?void 0:n.location):(null==(o=e.response)?void 0:o.status)>=500||!navigator.onLine?a.Ay.error({message:"Server Error",description:"A server error occurred. Please try again later or contact support if the issue persists."}):r&&s.Ay.error("An error occurred. Please try again.")},c=(e,r,t)=>{let[a]=n.A.useForm(),c=(0,l.A)(e),[d,p]=(0,o.useState)(!0),h=(0,o.useCallback)(function(e){let{current:o,pageSize:a,sorter:n}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(!0);let i={pageNum:o-1,pageSize:a},d=l;return"function"==typeof r&&(d=r(l)),Object.keys(d).forEach(e=>{""!==d[e]&&(i[e]=d[e])}),(null==n?void 0:n.order)&&(i.sorts=[{direction:(null==n?void 0:n.order)==="descend"?"DESC":"ASC",property:null==n?void 0:n.columnKey}]),c.current(i).then(e=>{let{data:{data:r,result:o}}=e;return"success"!==o?(s.Ay.error("Failed to fetch data from server."),{total:0,list:[]}):"function"==typeof t?t(r):{total:r.totals,list:r.records}}).catch(e=>(u(e,!0),{total:0,list:[]}))},[r,c,t]),{tableProps:m,search:{submit:v,reset:f}}=(0,i.A)(h,{debounceWait:400,form:a,onFinally(){p(!1)}}),y=(0,o.useMemo)(()=>({...m.pagination,showTotal:(e,r)=>`${r} of ${e} items`,showQuickJumper:!1,showSizeChanger:{variant:"underlined",size:"small"},pageSizeOptions:[10,20,30,40,50]}),[m]);return{tableProps:{...m,loading:d,pagination:y,scroll:{x:"max-content"}},form:a,submit:v,reset:f}}}}]);