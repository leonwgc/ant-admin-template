"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["6790"],{90443(e,i,n){n.r(i)},44563(e,i,n){n.r(i)},11688(e,i,n){n.r(i)},12804(e,i,n){n.r(i),n.d(i,{VerificationCodeInput:()=>c,default:()=>s});var t=n(74848),a=n(96540);n(90443);let c=e=>{let{length:i=6,onComplete:n,onChange:c,className:s="",disabled:l=!1,autoFocus:o=!0}=e,[r,d]=(0,a.useState)(Array(i).fill("")),h=(0,a.useRef)([]);(0,a.useEffect)(()=>{o&&h.current[0]&&!l&&h.current[0].focus()},[o,l]);let u=e=>{var t;if(l)return;e.preventDefault();let a=e.clipboardData.getData("text/plain").replace(/[^0-9]/g,"").split("").slice(0,i),s=Array(i).fill("");a.forEach((e,i)=>{s[i]=e}),d(s),null==c||c(s.join(""));let o=Math.min(a.length,i-1);null==(t=h.current[o])||t.focus(),s.every(e=>""!==e)&&(null==n||n(s.join("")))};return(0,t.jsx)("div",{className:`verification-code-input ${s}`,children:r.map((e,a)=>(0,t.jsx)("input",{ref:e=>h.current[a]=e,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,t)=>{var a,s;if(l)return;let o=t.replace(/[^0-9]/g,"");if(o.length>1){let t=o.split("").slice(0,i-e),s=[...r];t.forEach((n,t)=>{e+t<i&&(s[e+t]=n)}),d(s),null==c||c(s.join(""));let l=Math.min(e+t.length,i-1);null==(a=h.current[l])||a.focus(),s.every(e=>""!==e)&&(null==n||n(s.join("")));return}let u=[...r];u[e]=o,d(u),null==c||c(u.join("")),o&&e<i-1&&(null==(s=h.current[e+1])||s.focus()),u.every(e=>""!==e)&&""!==u[i-1]&&(null==n||n(u.join("")))})(a,e.target.value),onKeyDown:e=>((e,n)=>{var t,a,s;if(!l)if("Backspace"===n.key){if(n.preventDefault(),r[e]){let i=[...r];i[e]="",d(i),null==c||c(i.join(""))}else if(e>0){let i=[...r];i[e-1]="",d(i),null==c||c(i.join("")),null==(t=h.current[e-1])||t.focus()}}else"ArrowLeft"===n.key&&e>0?(n.preventDefault(),null==(a=h.current[e-1])||a.focus()):"ArrowRight"===n.key&&e<i-1&&(n.preventDefault(),null==(s=h.current[e+1])||s.focus())})(a,e),onPaste:u,onFocus:()=>{var e;null==(e=h.current[a])||e.select()},disabled:l,className:"verification-code-input__box"},a))})},s=c},33292(e,i,n){n.r(i),n.d(i,{default:()=>d});var t=n(74848),a=n(96540),c=n(36813),s=n(58607),l=n(12804),o=n(87625);n(44563);var r=n(90030);let d=e=>{let{contact:i,codeLength:n=8,countdownSeconds:d=60,onComplete:h,onResend:u,onGoBack:p}=e,{sec:f,isRunning:x,start:m,reset:j}=(0,o.default)(d,!0),[v,g]=(0,a.useState)("");return(0,r.A)(m),(0,t.jsx)("div",{className:"verification-code-page",children:(0,t.jsxs)("div",{className:"verification-code-page__content",children:[(0,t.jsxs)("h2",{className:"verification-code-page__title",children:["We have sent a ",n,"-digit verification code to your email"," ",(0,t.jsx)("span",{className:"verification-code-page__contact",children:i})]}),(0,t.jsxs)("div",{className:"verification-code-page__input-section",children:[(0,t.jsx)("label",{className:"verification-code-page__label",children:"Verification Code"}),(0,t.jsx)(l.VerificationCodeInput,{length:n,onComplete:e=>{g(e),null==h||h(e)},onChange:e=>{g(e)},autoFocus:!0})]}),(0,t.jsx)("div",{className:"verification-code-page__actions",children:(0,t.jsxs)(c.A,{size:16,children:[(0,t.jsx)(s.Ay,{type:"secondary",size:"large",onClick:()=>{x||(j(),m(),null==u||u())},disabled:x,className:"verification-code-page__resend-button",children:x?`Resend Code (${f}s)`:"Resend Code"}),(0,t.jsx)(s.Ay,{type:"secondary",size:"large",onClick:p,className:"verification-code-page__back-button",children:"Go back"})]})}),(0,t.jsx)("p",{className:"verification-code-page__hint",children:"Still can't find your recovery code? Please check your spam folder."})]})})}},96065(e,i,n){n.r(i),n.d(i,{default:()=>t.default});var t=n(33292)},87625(e,i,n){n.r(i),n.d(i,{default:()=>s});var t=n(76440),a=n(16415),c=n(96540);let s=e=>{let{seconds:i=60,onEnd:n}=e,[s,l]=(0,c.useState)(0),[o,r]=(0,c.useState)(0),[d]=(0,t.A)({leftTime:1e3*s,interval:1e3,onEnd:()=>{l(0),r(e=>e+1),null==n||n()}}),h=(0,c.useMemo)(()=>Math.round(d/1e3),[d]),u=(0,c.useMemo)(()=>h>0,[h]),p=(0,c.useCallback)(()=>{l(i)},[i]),f=(0,c.useCallback)(()=>{l(0),r(0)},[]),x=(0,c.useCallback)(e=>{e>0&&l(e)},[l]);return(0,a.A)(f),{sec:h,start:p,reset:f,isRunning:u,round:o,setLeft:x}}},99061(e,i,n){n.r(i),n.d(i,{default:()=>r});var t=n(74848),a=n(96540),c=n(16151),s=n(58607),l=n(16629),o=n(96065);n(11688);let r=()=>{let{message:e}=c.A.useApp(),[i,n]=(0,a.useState)(!1);return(0,t.jsx)("div",{className:"verification-code-page-example",children:i?(0,t.jsx)(o.default,{contact:"fe****@derbysoft.net",codeLength:8,countdownSeconds:60,onComplete:i=>{e.success(`Verification code entered: ${i}`)},onResend:()=>{e.info("Verification code resent successfully")},onGoBack:()=>{e.info("Going back to previous page"),n(!1)}}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"verification-code-page-example__title",children:"VerificationCodePage Component Examples"}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Basic Usage"}),(0,t.jsx)("p",{children:"Click the button to see the verification code page in action"}),(0,t.jsx)("div",{className:"verification-code-page-example__demo-box",children:(0,t.jsx)(s.Ay,{type:"primary",size:"large",onClick:()=>n(!0),children:"Show Verification Code Page"})}),(0,t.jsx)("div",{className:"verification-code-page-example__code",children:`<VerificationCodePage
  contact="fe****@derbysoft.net"
  codeLength={8}
  countdownSeconds={60}
  onComplete={handleComplete}
  onResend={handleResend}
  onGoBack={handleGoBack}
/>`})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Component Description"}),(0,t.jsx)("p",{children:"The VerificationCodePage component is a complete page for entering verification codes. It includes:"}),(0,t.jsxs)("ul",{className:"verification-code-page-example__list",children:[(0,t.jsx)("li",{children:"Clear instruction text showing where the code was sent"}),(0,t.jsx)("li",{children:"8-digit verification code input with auto-focus and paste support"}),(0,t.jsx)("li",{children:"Resend button with countdown timer (60 seconds by default)"}),(0,t.jsx)("li",{children:"Go back button to return to previous page"}),(0,t.jsx)("li",{children:"Helpful hint about checking spam folder"}),(0,t.jsx)("li",{children:"Responsive design for mobile and desktop"})]})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Props"}),(0,t.jsxs)("table",{className:"verification-code-page-example__table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Prop"}),(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Description"}),(0,t.jsx)("th",{children:"Default"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"contact"}),(0,t.jsx)("td",{children:"string"}),(0,t.jsx)("td",{children:"Email or phone display text (masked)"}),(0,t.jsx)("td",{children:"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"codeLength"}),(0,t.jsx)("td",{children:"number"}),(0,t.jsx)("td",{children:"Length of verification code"}),(0,t.jsx)("td",{children:"8"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"countdownSeconds"}),(0,t.jsx)("td",{children:"number"}),(0,t.jsx)("td",{children:"Countdown seconds for resend button"}),(0,t.jsx)("td",{children:"60"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"onComplete"}),(0,t.jsx)("td",{children:"(code: string) => void"}),(0,t.jsx)("td",{children:"Callback when verification code is complete"}),(0,t.jsx)("td",{children:"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"onResend"}),(0,t.jsx)("td",{children:"() => void"}),(0,t.jsx)("td",{children:"Callback when resend button is clicked"}),(0,t.jsx)("td",{children:"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"onGoBack"}),(0,t.jsx)("td",{children:"() => void"}),(0,t.jsx)("td",{children:"Callback when go back button is clicked"}),(0,t.jsx)("td",{children:"-"})]})]})]})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Key Features"}),(0,t.jsxs)("div",{className:"verification-code-page-example__features",children:[(0,t.jsx)(l.A,{title:"Auto-focus",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"First input automatically focuses when page loads"})}),(0,t.jsx)(l.A,{title:"Auto-advance",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Cursor automatically moves to next input after entering a digit"})}),(0,t.jsx)(l.A,{title:"Paste Support",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Paste full code and it will be automatically distributed"})}),(0,t.jsx)(l.A,{title:"Countdown Timer",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Resend button disabled during countdown (59s)"})}),(0,t.jsx)(l.A,{title:"Responsive",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Adapts layout for mobile and desktop screens"})}),(0,t.jsx)(l.A,{title:"Keyboard Nav",className:"verification-code-page-example__feature-card",children:(0,t.jsx)("p",{children:"Backspace moves to previous input when current is empty"})})]})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Usage Tips"}),(0,t.jsxs)("ul",{className:"verification-code-page-example__list",children:[(0,t.jsx)("li",{children:"Use this component for email or phone verification flows"}),(0,t.jsx)("li",{children:"Always mask the contact information to protect user privacy"}),(0,t.jsx)("li",{children:"Implement rate limiting on the backend to prevent abuse of resend"}),(0,t.jsx)("li",{children:"Consider adding error handling for invalid codes (e.g., red border on inputs)"}),(0,t.jsx)("li",{children:"The countdown timer automatically starts when the page loads"}),(0,t.jsx)("li",{children:"Make sure to validate the code on the backend before proceeding"})]})]}),(0,t.jsxs)("div",{className:"verification-code-page-example__section",children:[(0,t.jsx)("h3",{children:"Complete Example"}),(0,t.jsx)("div",{className:"verification-code-page-example__code",children:`import VerificationCodePage from '@/components/VerificationCodePage';
import { message } from '@derbysoft/neat-design';

const MyPage = () => {
  const handleComplete = (code: string) => {
    // Verify code with backend
    verifyCode(code)
      .then(() => {
        message.success('Verification successful!');
        // Navigate to next page
      })
      .catch(() => {
        message.error('Invalid verification code');
      });
  };

  const handleResend = () => {
    // Call API to resend code
    resendCode()
      .then(() => {
        message.info('Code resent to your email');
      });
  };

  return (
    <VerificationCodePage
      contact="fe****@derbysoft.net"
      codeLength={8}
      countdownSeconds={60}
      onComplete={handleComplete}
      onResend={handleResend}
      onGoBack={() => history.back()}
    />
  );
};`})]})]})})}}}]);