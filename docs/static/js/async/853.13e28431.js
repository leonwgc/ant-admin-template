"use strict";(self.webpackChunkant_admin_template=self.webpackChunkant_admin_template||[]).push([["853"],{47419(e,l,s){s.r(l)},19641(e,l,s){s.r(l)},16550(e,l,s){s.r(l)},71696(e,l,s){s.r(l)},27496(e,l,s){s.r(l),s.d(l,{CustomEdge:()=>i});var a=s(74848);s(96540);var o=s(46860);let i=e=>{let{id:l,sourceX:s,sourceY:i,targetX:d,targetY:n,sourcePosition:r,targetPosition:c,style:t={},markerEnd:p,label:x,data:h}=e,[f,m,j]=(0,o.Fp)({sourceX:s,sourceY:i,sourcePosition:r,targetX:d,targetY:n,targetPosition:c});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.tE,{id:l,path:f,markerEnd:p,style:t}),(x||(null==h?void 0:h.label))&&(0,a.jsx)(o.rV,{children:(0,a.jsx)("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${m}px,${j}px)`,pointerEvents:"all",background:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",border:"1px solid #d9d9d9",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},className:"custom-edge-label",children:x||(null==h?void 0:h.label)})})]})}},63116(e,l,s){s.r(l),s.d(l,{EdgeLabelPopover:()=>c});var a=s(74848),o=s(96540),i=s(26149),d=s(36813),n=s(58607),r=s(53054);s(47419);let c=e=>{let{visible:l,initialLabel:s="",position:c,onClose:t,onSave:p}=e,{t:x}=(0,r.Bd)(),[h,f]=(0,o.useState)(s);(0,o.useEffect)(()=>{f(s)},[s]);let m=()=>{p(h),t()};return l&&c?(0,a.jsx)("div",{className:"edge-label-popover",style:{position:"fixed",left:c.x,top:c.y,zIndex:1e3},children:(0,a.jsxs)("div",{className:"edge-label-popover__content",children:[(0,a.jsx)("div",{className:"edge-label-popover__title",children:x("pages.flow:edgeLabel")}),(0,a.jsx)(i.A,{value:h,onChange:e=>{e.stopPropagation(),f(e.target.value)},onKeyDown:e=>{"Enter"===e.key?m():"Escape"===e.key&&t()},placeholder:x("pages.flow:edgeLabelPlaceholder"),autoFocus:!0,maxLength:50}),(0,a.jsx)("div",{className:"edge-label-popover__footer",children:(0,a.jsxs)(d.A,{children:[(0,a.jsx)(n.Ay,{size:"small",onClick:t,children:x("pages.flow:cancel")}),(0,a.jsx)(n.Ay,{size:"small",type:"primary",onClick:m,children:x("pages.flow:save")})]})})]})}):null}},32554(e,l,s){s.r(l),s.d(l,{NodePanel:()=>p});var a=s(74848),o=s(96540),i=s(68874),d=s(30027),n=s(36813),r=s(58607),c=s(26149),t=s(53054);s(19641);let p=e=>{let{visible:l,node:s,onClose:p,onSave:x,onDelete:h}=e,{t:f}=(0,t.Bd)(),[m]=i.A.useForm();return(o.useEffect(()=>{s&&m.setFieldsValue({label:s.data.label,description:s.data.description||""})},[s,m]),s)?(0,a.jsx)(d.A,{title:f("pages.flow:nodeConfig"),open:l,onClose:p,width:400,footer:(0,a.jsxs)(n.A,{style:{float:"right"},children:[(0,a.jsx)(r.Ay,{onClick:p,children:f("pages.flow:cancel")}),(0,a.jsx)(r.Ay,{danger:!0,onClick:h,children:f("pages.flow:delete")}),(0,a.jsx)(r.Ay,{type:"primary",onClick:()=>{m.validateFields().then(e=>{s&&(x({...s,data:{...s.data,label:e.label,description:e.description}}),p())})},children:f("pages.flow:save")})]}),children:(0,a.jsxs)(i.A,{form:m,layout:"vertical",children:[(0,a.jsx)(i.A.Item,{name:"label",label:f("pages.flow:nodeLabel"),rules:[{required:!0,message:f("pages.flow:nodeLabelRequired")}],children:(0,a.jsx)(c.A,{placeholder:f("pages.flow:nodeLabelPlaceholder")})}),(0,a.jsx)(i.A.Item,{name:"description",label:f("pages.flow:nodeDescription"),children:(0,a.jsx)(c.A.TextArea,{rows:4,placeholder:f("pages.flow:nodeDescriptionPlaceholder")})}),(0,a.jsxs)("div",{className:"node-panel__info",children:[(0,a.jsxs)("div",{className:"node-panel__info-item",children:[(0,a.jsxs)("span",{className:"node-panel__info-label",children:[f("pages.flow:nodeType"),":"]}),(0,a.jsx)("span",{className:"node-panel__info-value",children:f(`pages.flow:${s.data.type}Node`)})]}),(0,a.jsxs)("div",{className:"node-panel__info-item",children:[(0,a.jsxs)("span",{className:"node-panel__info-label",children:[f("pages.flow:nodeId"),":"]}),(0,a.jsx)("span",{className:"node-panel__info-value",children:s.id})]})]})]})}):null}},79139(e,l,s){s.r(l),s.d(l,{NodePopover:()=>p});var a=s(74848),o=s(96540),i=s(68874),d=s(26149),n=s(36813),r=s(58607),c=s(30887),t=s(53054);s(16550);let p=e=>{let{visible:l,node:s,position:p,onClose:x,onSave:h,onDelete:f}=e,{t:m}=(0,t.Bd)(),[j]=i.A.useForm();if((0,o.useEffect)(()=>{s&&j.setFieldsValue({label:s.data.label,description:s.data.description||""})},[s,j]),!s||!p||!l)return null;let g=(0,a.jsxs)("div",{className:"node-popover",children:[(0,a.jsx)("div",{className:"node-popover__title",children:m("pages.flow:nodeConfig")}),(0,a.jsxs)(i.A,{form:j,layout:"vertical",size:"small",children:[(0,a.jsx)(i.A.Item,{name:"label",label:m("pages.flow:nodeLabel"),rules:[{required:!0,message:m("pages.flow:nodeLabelRequired")}],children:(0,a.jsx)(d.A,{placeholder:m("pages.flow:nodeLabelPlaceholder")})}),(0,a.jsx)(i.A.Item,{name:"description",label:m("pages.flow:nodeDescription"),children:(0,a.jsx)(d.A.TextArea,{placeholder:m("pages.flow:nodeDescriptionPlaceholder")})})]}),(0,a.jsx)("div",{className:"node-popover__footer",children:(0,a.jsxs)(n.A,{children:[(0,a.jsx)(r.Ay,{size:"small",onClick:x,children:m("pages.flow:cancel")}),(0,a.jsx)(r.Ay,{size:"small",danger:!0,onClick:()=>{f(),x()},children:m("pages.flow:delete")}),(0,a.jsx)(r.Ay,{size:"small",type:"primary",onClick:()=>{j.validateFields().then(e=>{s&&(h({...s,data:{...s.data,label:e.label,description:e.description}}),x())})},children:m("pages.flow:save")})]})})]});return(0,a.jsx)("div",{className:"node-popover-wrapper",style:{position:"fixed",left:p.x,top:p.y,zIndex:1e3},children:(0,a.jsx)(c.A,{closable:!0,content:g,open:l,onOpenChange:e=>!e&&x(),trigger:"click",placement:"rightTop",children:(0,a.jsx)("div",{style:{width:0,height:0}})})})}},78925(e,l,s){s.r(l),s.d(l,{Toolbar:()=>j});var a=s(74848);s(96540);var o=s(36813),i=s(58607),d=s(69369),n=s(17047),r=s(19416),c=s(87281),t=s(54042),p=s(72796),x=s(96458),h=s(20156),f=s(19791),m=s(53054);s(71696);let j=e=>{let{onAddNode:l,onSave:s,onClear:j,onZoomIn:g,onZoomOut:v,onFitView:b}=e,{t:w}=(0,m.Bd)();return(0,a.jsxs)("div",{className:"flow-toolbar",children:[(0,a.jsxs)("div",{className:"flow-toolbar__section",children:[(0,a.jsxs)("div",{className:"flow-toolbar__label",children:[w("pages.flow:addNode"),":"]}),(0,a.jsxs)(o.A,{children:[(0,a.jsx)(i.Ay,{icon:(0,a.jsx)(d.A,{}),onClick:()=>l("start"),size:"small",children:w("pages.flow:startNode")}),(0,a.jsx)(i.Ay,{icon:(0,a.jsx)(n.A,{}),onClick:()=>l("process"),size:"small",children:w("pages.flow:processNode")}),(0,a.jsx)(i.Ay,{icon:(0,a.jsx)(r.A,{}),onClick:()=>l("decision"),size:"small",children:w("pages.flow:decisionNode")}),(0,a.jsx)(i.Ay,{icon:(0,a.jsx)(c.A,{}),onClick:()=>l("end"),size:"small",children:w("pages.flow:endNode")})]})]}),(0,a.jsx)("div",{className:"flow-toolbar__divider"}),(0,a.jsx)("div",{className:"flow-toolbar__section",children:(0,a.jsxs)(o.A,{children:[(0,a.jsx)(i.Ay,{icon:(0,a.jsx)(t.A,{}),onClick:g,size:"small",children:w("pages.flow:zoomIn")}),(0,a.jsx)(i.Ay,{icon:(0,a.jsx)(p.A,{}),onClick:v,size:"small",children:w("pages.flow:zoomOut")}),(0,a.jsx)(i.Ay,{icon:(0,a.jsx)(x.A,{}),onClick:b,size:"small",children:w("pages.flow:fitView")})]})}),(0,a.jsx)("div",{className:"flow-toolbar__divider"}),(0,a.jsx)("div",{className:"flow-toolbar__section",children:(0,a.jsxs)(o.A,{children:[(0,a.jsx)(i.Ay,{type:"primary",icon:(0,a.jsx)(h.A,{}),onClick:s,size:"small",children:w("pages.flow:save")}),(0,a.jsx)(i.Ay,{danger:!0,icon:(0,a.jsx)(f.A,{}),onClick:j,size:"small",children:w("pages.flow:clear")})]})})]})}},36404(e,l,s){s.r(l),s.d(l,{CustomEdge:()=>n.CustomEdge,EdgeLabelPopover:()=>d.EdgeLabelPopover,NodePanel:()=>o.NodePanel,NodePopover:()=>i.NodePopover,Toolbar:()=>a.Toolbar});var a=s(78925),o=s(32554),i=s(79139),d=s(63116),n=s(27496)}}]);